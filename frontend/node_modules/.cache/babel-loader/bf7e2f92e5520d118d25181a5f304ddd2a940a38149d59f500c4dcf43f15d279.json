{"ast":null,"code":"var _excluded = [\"sourceX\", \"sourceY\", \"sourceControlX\", \"targetX\", \"targetY\", \"targetControlX\", \"linkWidth\"],\n  _excluded2 = [\"className\", \"style\", \"children\", \"id\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nimport * as React from 'react';\nimport { useCallback, useMemo, useState } from 'react';\nimport maxBy from 'es-toolkit/compat/maxBy';\nimport sumBy from 'es-toolkit/compat/sumBy';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { ReportChartMargin, ReportChartSize, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetComputedData } from '../context/chartDataContext';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { isNotNil, noop } from '../util/DataUtils';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar interpolationGenerator = (a, b) => {\n  var ka = +a;\n  var kb = b - ka;\n  return t => ka + kb * t;\n};\nvar centerY = node => node.y + node.dy / 2;\n\n// TODO why is this not reading dataKey?\nvar getValue = entry => entry && entry.value || 0;\nvar getSumOfIds = (links, ids) => ids.reduce((result, id) => result + getValue(links[id]), 0);\nvar getSumWithWeightedSource = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  if (link == null) {\n    return result;\n  }\n  var sourceNode = tree[link.source];\n  if (sourceNode == null) {\n    return result;\n  }\n  return result + centerY(sourceNode) * getValue(links[id]);\n}, 0);\nvar getSumWithWeightedTarget = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  if (link == null) {\n    return result;\n  }\n  var targetNode = tree[link.target];\n  if (targetNode == null) {\n    return result;\n  }\n  return result + centerY(targetNode) * getValue(links[id]);\n}, 0);\nvar ascendingY = (a, b) => a.y - b.y;\nvar searchTargetsAndSources = (links, id) => {\n  var sourceNodes = [];\n  var sourceLinks = [];\n  var targetNodes = [];\n  var targetLinks = [];\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i];\n    if ((link === null || link === void 0 ? void 0 : link.source) === id) {\n      targetNodes.push(link.target);\n      targetLinks.push(i);\n    }\n    if ((link === null || link === void 0 ? void 0 : link.target) === id) {\n      sourceNodes.push(link.source);\n      sourceLinks.push(i);\n    }\n  }\n  return {\n    sourceNodes,\n    sourceLinks,\n    targetLinks,\n    targetNodes\n  };\n};\nvar updateDepthOfTargets = (tree, curNode) => {\n  var {\n    targetNodes\n  } = curNode;\n  for (var i = 0, len = targetNodes.length; i < len; i++) {\n    var targetNode = targetNodes[i];\n    if (targetNode == null) {\n      continue;\n    }\n    var target = tree[targetNode];\n    if (target) {\n      target.depth = Math.max(curNode.depth + 1, target.depth);\n      updateDepthOfTargets(tree, target);\n    }\n  }\n};\nvar getNodesTree = (_ref, width, nodeWidth, align) => {\n  var _maxBy$depth, _maxBy;\n  var {\n    nodes,\n    links\n  } = _ref;\n  var tree = nodes.map((entry, index) => {\n    var result = searchTargetsAndSources(links, index);\n    return _objectSpread(_objectSpread(_objectSpread({}, entry), result), {}, {\n      value: Math.max(getSumOfIds(links, result.sourceLinks), getSumOfIds(links, result.targetLinks)),\n      depth: 0\n    });\n  });\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (node != null && !node.sourceNodes.length) {\n      updateDepthOfTargets(tree, node);\n    }\n  }\n  var maxDepth = (_maxBy$depth = (_maxBy = maxBy(tree, entry => entry.depth)) === null || _maxBy === void 0 ? void 0 : _maxBy.depth) !== null && _maxBy$depth !== void 0 ? _maxBy$depth : 0;\n  if (maxDepth >= 1) {\n    var childWidth = (width - nodeWidth) / maxDepth;\n    for (var _i = 0, _len = tree.length; _i < _len; _i++) {\n      var _node = tree[_i];\n      if (_node == null) {\n        continue;\n      }\n      if (!_node.targetNodes.length) {\n        if (align === 'justify') {\n          _node.depth = maxDepth;\n        }\n      }\n      _node.x = _node.depth * childWidth;\n      _node.dx = nodeWidth;\n    }\n  }\n  return {\n    tree,\n    maxDepth\n  };\n};\nvar getDepthTree = tree => {\n  var result = [];\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var _result$node$depth;\n    var node = tree[i];\n    if (node == null) {\n      continue;\n    }\n    if (!result[node.depth]) {\n      result[node.depth] = [];\n    }\n    (_result$node$depth = result[node.depth]) === null || _result$node$depth === void 0 || _result$node$depth.push(node);\n  }\n  return result;\n};\nvar updateYOfTree = (depthTree, height, nodePadding, links, verticalAlign) => {\n  var yRatio = Math.min(...depthTree.map(nodes => (height - (nodes.length - 1) * nodePadding) / sumBy(nodes, getValue)));\n  for (var d = 0, maxDepth = depthTree.length; d < maxDepth; d++) {\n    var nodes = depthTree[d];\n    if (nodes == null) {\n      continue;\n    }\n    if (verticalAlign === 'top') {\n      var currentY = 0;\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        var node = nodes[i];\n        if (node == null) {\n          continue;\n        }\n        node.dy = node.value * yRatio;\n        node.y = currentY;\n        currentY += node.dy + nodePadding;\n      }\n    } else {\n      for (var _i2 = 0, _len2 = nodes.length; _i2 < _len2; _i2++) {\n        var _node2 = nodes[_i2];\n        if (_node2 == null) {\n          continue;\n        }\n        _node2.y = _i2;\n        _node2.dy = _node2.value * yRatio;\n      }\n    }\n  }\n  return links.map(link => _objectSpread(_objectSpread({}, link), {}, {\n    dy: getValue(link) * yRatio\n  }));\n};\nvar resolveCollisions = function resolveCollisions(depthTree, height, nodePadding) {\n  var sort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  for (var i = 0, len = depthTree.length; i < len; i++) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    var n = nodes.length;\n\n    // Sort by the value of y\n    if (sort) {\n      nodes.sort(ascendingY);\n    }\n    var y0 = 0;\n    for (var j = 0; j < n; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      var dy = y0 - node.y;\n      if (dy > 0) {\n        node.y += dy;\n      }\n      y0 = node.y + node.dy + nodePadding;\n    }\n    y0 = height + nodePadding;\n    for (var _j = n - 1; _j >= 0; _j--) {\n      var _node3 = nodes[_j];\n      if (_node3 == null) {\n        continue;\n      }\n      var _dy = _node3.y + _node3.dy + nodePadding - y0;\n      if (_dy > 0) {\n        _node3.y -= _dy;\n        y0 = _node3.y;\n      } else {\n        break;\n      }\n    }\n  }\n};\nvar relaxLeftToRight = (tree, depthTree, links, alpha) => {\n  for (var i = 0, maxDepth = depthTree.length; i < maxDepth; i++) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      if (node.sourceLinks.length) {\n        var sourceSum = getSumOfIds(links, node.sourceLinks);\n        var weightedSum = getSumWithWeightedSource(tree, links, node.sourceLinks);\n        var y = weightedSum / sourceSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar relaxRightToLeft = (tree, depthTree, links, alpha) => {\n  for (var i = depthTree.length - 1; i >= 0; i--) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      if (node.targetLinks.length) {\n        var targetSum = getSumOfIds(links, node.targetLinks);\n        var weightedSum = getSumWithWeightedTarget(tree, links, node.targetLinks);\n        var y = weightedSum / targetSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar updateYOfLinks = (tree, links) => {\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (node == null) {\n      continue;\n    }\n    var sy = 0;\n    var ty = 0;\n    node.targetLinks.sort((a, b) => {\n      var _links$a, _links$b, _tree$targetA, _tree$targetB;\n      var targetA = (_links$a = links[a]) === null || _links$a === void 0 ? void 0 : _links$a.target;\n      var targetB = (_links$b = links[b]) === null || _links$b === void 0 ? void 0 : _links$b.target;\n      if (targetA == null || targetB == null) {\n        return 0;\n      }\n      var yA = (_tree$targetA = tree[targetA]) === null || _tree$targetA === void 0 ? void 0 : _tree$targetA.y;\n      var yB = (_tree$targetB = tree[targetB]) === null || _tree$targetB === void 0 ? void 0 : _tree$targetB.y;\n      if (yA == null || yB == null) {\n        return 0;\n      }\n      return yA - yB;\n    });\n    node.sourceLinks.sort((a, b) => {\n      var _links$a2, _links$b2, _tree$sourceA, _tree$sourceB;\n      var sourceA = (_links$a2 = links[a]) === null || _links$a2 === void 0 ? void 0 : _links$a2.source;\n      var sourceB = (_links$b2 = links[b]) === null || _links$b2 === void 0 ? void 0 : _links$b2.source;\n      if (sourceA == null || sourceB == null) {\n        return 0;\n      }\n      var yA = (_tree$sourceA = tree[sourceA]) === null || _tree$sourceA === void 0 ? void 0 : _tree$sourceA.y;\n      var yB = (_tree$sourceB = tree[sourceB]) === null || _tree$sourceB === void 0 ? void 0 : _tree$sourceB.y;\n      if (yA == null || yB == null) {\n        return 0;\n      }\n      return yA - yB;\n    });\n    for (var j = 0, tLen = node.targetLinks.length; j < tLen; j++) {\n      var targetLink = node.targetLinks[j];\n      if (targetLink == null) {\n        continue;\n      }\n      var link = links[targetLink];\n      if (link) {\n        // @ts-expect-error we should refactor this to immutable\n        link.sy = sy;\n        sy += link.dy;\n      }\n    }\n    for (var _j2 = 0, sLen = node.sourceLinks.length; _j2 < sLen; _j2++) {\n      var sourceLink = node.sourceLinks[_j2];\n      if (sourceLink == null) {\n        continue;\n      }\n      var _link = links[sourceLink];\n      if (_link) {\n        // @ts-expect-error we should refactor this to immutable\n        _link.ty = ty;\n        ty += _link.dy;\n      }\n    }\n  }\n};\nvar computeData = _ref2 => {\n  var {\n    data,\n    width,\n    height,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    verticalAlign,\n    align\n  } = _ref2;\n  var {\n    links\n  } = data;\n  var {\n    tree\n  } = getNodesTree(data, width, nodeWidth, align);\n  var depthTree = getDepthTree(tree);\n  var linksWithDy = updateYOfTree(depthTree, height, nodePadding, links, verticalAlign);\n  resolveCollisions(depthTree, height, nodePadding, sort);\n  if (verticalAlign === 'justify') {\n    var alpha = 1;\n    for (var i = 1; i <= iterations; i++) {\n      relaxRightToLeft(tree, depthTree, linksWithDy, alpha *= 0.99);\n      resolveCollisions(depthTree, height, nodePadding, sort);\n      relaxLeftToRight(tree, depthTree, linksWithDy, alpha);\n      resolveCollisions(depthTree, height, nodePadding, sort);\n    }\n  }\n  updateYOfLinks(tree, linksWithDy);\n  // @ts-expect-error updateYOfLinks modifies the links array to add sy and ty in place\n  var newLinks = linksWithDy;\n  return {\n    nodes: tree,\n    links: newLinks\n  };\n};\nvar getNodeCoordinateOfTooltip = item => {\n  return {\n    x: +item.x + +item.width / 2,\n    y: +item.y + +item.height / 2\n  };\n};\nvar getLinkCoordinateOfTooltip = item => {\n  return 'sourceX' in item ? {\n    x: (item.sourceX + item.targetX) / 2,\n    y: (item.sourceY + item.targetY) / 2\n  } : undefined;\n};\nvar getPayloadOfTooltip = (item, type, nameKey) => {\n  var {\n    payload\n  } = item;\n  if (type === 'node') {\n    return {\n      payload,\n      name: getValueByDataKey(payload, nameKey, ''),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  if ('source' in payload && payload.source && payload.target) {\n    var sourceName = getValueByDataKey(payload.source, nameKey, '');\n    var targetName = getValueByDataKey(payload.target, nameKey, '');\n    return {\n      payload,\n      name: \"\".concat(sourceName, \" - \").concat(targetName),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  return undefined;\n};\nexport var sankeyPayloadSearcher = (_, activeIndex, computedData, nameKey) => {\n  if (activeIndex == null || typeof activeIndex !== 'string') {\n    return undefined;\n  }\n  if (computedData == null || typeof computedData !== 'object') {\n    return undefined;\n  }\n  var splitIndex = activeIndex.split('-');\n  var [targetType, index] = splitIndex;\n  var item = get(computedData, \"\".concat(targetType, \"s[\").concat(index, \"]\"));\n  if (item) {\n    var payload = getPayloadOfTooltip(item, targetType, nameKey);\n    return payload;\n  }\n  return undefined;\n};\nvar options = {\n  chartName: 'Sankey',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: sankeyPayloadSearcher,\n  eventEmitter: undefined\n};\nvar SetSankeyTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    data,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: data,\n    getPosition: noop,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\n\n// TODO: improve types - NodeOptions uses SankeyNode, LinkOptions uses LinkProps. Standardize.\n\nfunction renderLinkItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  var {\n      sourceX,\n      sourceY,\n      sourceControlX,\n      targetX,\n      targetY,\n      targetControlX,\n      linkWidth\n    } = props,\n    others = _objectWithoutProperties(props, _excluded);\n  return /*#__PURE__*/React.createElement(\"path\", _extends({\n    className: \"recharts-sankey-link\",\n    d: \"\\n          M\".concat(sourceX, \",\").concat(sourceY, \"\\n          C\").concat(sourceControlX, \",\").concat(sourceY, \" \").concat(targetControlX, \",\").concat(targetY, \" \").concat(targetX, \",\").concat(targetY, \"\\n        \"),\n    fill: \"none\",\n    stroke: \"#333\",\n    strokeWidth: linkWidth,\n    strokeOpacity: \"0.2\"\n  }, svgPropertiesNoEvents(others)));\n}\nvar buildLinkProps = _ref4 => {\n  var {\n    link,\n    nodes,\n    left,\n    top,\n    i,\n    linkContent,\n    linkCurvature\n  } = _ref4;\n  var {\n    sy: sourceRelativeY,\n    ty: targetRelativeY,\n    dy: linkWidth\n  } = link;\n  var sourceNode = nodes[link.source];\n  var targetNode = nodes[link.target];\n  if (sourceNode == null || targetNode == null) {\n    return undefined;\n  }\n  var sourceX = sourceNode.x + sourceNode.dx + left;\n  var targetX = targetNode.x + left;\n  var interpolationFunc = interpolationGenerator(sourceX, targetX);\n  var sourceControlX = interpolationFunc(linkCurvature);\n  var targetControlX = interpolationFunc(1 - linkCurvature);\n  var sourceY = sourceNode.y + sourceRelativeY + linkWidth / 2 + top;\n  var targetY = targetNode.y + targetRelativeY + linkWidth / 2 + top;\n  var linkProps = _objectSpread({\n    sourceX,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetX,\n    sourceY,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetY,\n    sourceControlX,\n    targetControlX,\n    sourceRelativeY,\n    targetRelativeY,\n    linkWidth,\n    index: i,\n    payload: _objectSpread(_objectSpread({}, link), {}, {\n      source: sourceNode,\n      target: targetNode\n    })\n  }, svgPropertiesNoEventsFromUnknown(linkContent));\n  return linkProps;\n};\nfunction SankeyLinkElement(_ref5) {\n  var {\n    graphicalItemId,\n    props,\n    i,\n    linkContent,\n    onMouseEnter: _onMouseEnter,\n    onMouseLeave: _onMouseLeave,\n    onClick: _onClick,\n    dataKey\n  } = _ref5;\n  var activeCoordinate = getLinkCoordinateOfTooltip(props);\n  var activeIndex = \"link-\".concat(i);\n  var dispatch = useAppDispatch();\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onMouseEnter(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onClick(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderLinkItem(linkContent, props));\n}\nfunction AllSankeyLinkElements(_ref6) {\n  var {\n    graphicalItemId,\n    modifiedLinks,\n    links,\n    linkContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-links\",\n    key: \"recharts-sankey-links\"\n  }, links.map((link, i) => {\n    var linkProps = modifiedLinks[i];\n    if (linkProps == null) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(SankeyLinkElement, {\n      graphicalItemId: graphicalItemId,\n      key: \"link-\".concat(link.source, \"-\").concat(link.target, \"-\").concat(link.value),\n      props: linkProps,\n      linkContent: linkContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nfunction renderNodeItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  return (/*#__PURE__*/\n    // @ts-expect-error recharts radius is not compatible with SVG radius\n    React.createElement(Rectangle, _extends({\n      className: \"recharts-sankey-node\",\n      fill: \"#0088fe\",\n      fillOpacity: \"0.8\"\n    }, svgPropertiesNoEvents(props)))\n  );\n}\nvar buildNodeProps = _ref7 => {\n  var {\n    node,\n    nodeContent,\n    top,\n    left,\n    i\n  } = _ref7;\n  var {\n    x,\n    y,\n    dx,\n    dy\n  } = node;\n  // @ts-expect-error nodeContent is passing in unknown props\n  var nodeProps = _objectSpread(_objectSpread({}, svgPropertiesNoEventsFromUnknown(nodeContent)), {}, {\n    x: x + left,\n    y: y + top,\n    width: dx,\n    height: dy,\n    index: i,\n    payload: node\n  });\n  return nodeProps;\n};\nfunction NodeElement(_ref8) {\n  var {\n    graphicalItemId,\n    props,\n    nodeContent,\n    i,\n    onMouseEnter: _onMouseEnter2,\n    onMouseLeave: _onMouseLeave2,\n    onClick: _onClick2,\n    dataKey\n  } = _ref8;\n  var dispatch = useAppDispatch();\n  var activeCoordinate = getNodeCoordinateOfTooltip(props);\n  var activeIndex = \"node-\".concat(i);\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onMouseEnter2(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave2(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onClick2(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderNodeItem(nodeContent, props));\n}\nfunction AllNodeElements(_ref9) {\n  var {\n    graphicalItemId,\n    modifiedNodes,\n    nodeContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref9;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-nodes\",\n    key: \"recharts-sankey-nodes\"\n  }, modifiedNodes.map((modifiedNode, i) => {\n    return /*#__PURE__*/React.createElement(NodeElement, {\n      graphicalItemId: graphicalItemId,\n      key: \"node-\".concat(modifiedNode.index, \"-\").concat(modifiedNode.x, \"-\").concat(modifiedNode.y),\n      props: modifiedNode,\n      nodeContent: nodeContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nexport var sankeyDefaultProps = {\n  align: 'justify',\n  dataKey: 'value',\n  iterations: 32,\n  linkCurvature: 0.5,\n  margin: {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5\n  },\n  nameKey: 'name',\n  nodePadding: 10,\n  nodeWidth: 10,\n  sort: true,\n  verticalAlign: 'justify'\n};\nfunction SankeyImpl(props) {\n  var {\n      className,\n      style,\n      children,\n      id\n    } = props,\n    others = _objectWithoutProperties(props, _excluded2);\n  var {\n    link,\n    dataKey,\n    node,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    data,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    linkCurvature,\n    margin,\n    verticalAlign,\n    align\n  } = props;\n  var attrs = svgPropertiesNoEvents(others);\n  var width = useChartWidth();\n  var height = useChartHeight();\n  var {\n    links,\n    modifiedLinks,\n    modifiedNodes\n  } = useMemo(() => {\n    var _margin$left, _margin$right, _margin$top, _margin$bottom;\n    if (!data || !width || !height || width <= 0 || height <= 0) {\n      return {\n        nodes: [],\n        links: [],\n        modifiedLinks: [],\n        modifiedNodes: []\n      };\n    }\n    var contentWidth = width - ((_margin$left = margin.left) !== null && _margin$left !== void 0 ? _margin$left : 0) - ((_margin$right = margin.right) !== null && _margin$right !== void 0 ? _margin$right : 0);\n    var contentHeight = height - ((_margin$top = margin.top) !== null && _margin$top !== void 0 ? _margin$top : 0) - ((_margin$bottom = margin.bottom) !== null && _margin$bottom !== void 0 ? _margin$bottom : 0);\n    var computed = computeData({\n      data,\n      width: contentWidth,\n      height: contentHeight,\n      iterations,\n      nodeWidth,\n      nodePadding,\n      sort,\n      verticalAlign,\n      align\n    });\n    var top = margin.top || 0;\n    var left = margin.left || 0;\n    var newModifiedLinks = computed.links.map((l, i) => {\n      return buildLinkProps({\n        link: l,\n        nodes: computed.nodes,\n        i,\n        top,\n        left,\n        linkContent: link,\n        linkCurvature\n      });\n    }).filter(isNotNil);\n    var newModifiedNodes = computed.nodes.map((n, i) => {\n      return buildNodeProps({\n        node: n,\n        nodeContent: node,\n        i,\n        top,\n        left\n      });\n    });\n    return {\n      nodes: computed.nodes,\n      links: computed.links,\n      modifiedLinks: newModifiedLinks,\n      modifiedNodes: newModifiedNodes\n    };\n  }, [data, width, height, margin, iterations, nodeWidth, nodePadding, sort, link, node, linkCurvature, align, verticalAlign]);\n  var handleMouseEnter = useCallback((item, type, e) => {\n    if (onMouseEnter) {\n      onMouseEnter(item, type, e);\n    }\n  }, [onMouseEnter]);\n  var handleMouseLeave = useCallback((item, type, e) => {\n    if (onMouseLeave) {\n      onMouseLeave(item, type, e);\n    }\n  }, [onMouseLeave]);\n  var handleClick = useCallback((item, type, e) => {\n    if (onClick) {\n      onClick(item, type, e);\n    }\n  }, [onClick]);\n  if (!isPositiveNumber(width) || !isPositiveNumber(height) || !data || !data.links || !data.nodes) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetComputedData, {\n    computedData: {\n      links: modifiedLinks,\n      nodes: modifiedNodes\n    }\n  }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n    width: width,\n    height: height\n  }), children, /*#__PURE__*/React.createElement(AllSankeyLinkElements, {\n    graphicalItemId: id,\n    links: links,\n    modifiedLinks: modifiedLinks,\n    linkContent: link,\n    dataKey: dataKey,\n    onMouseEnter: (linkProps, e) => handleMouseEnter(linkProps, 'link', e),\n    onMouseLeave: (linkProps, e) => handleMouseLeave(linkProps, 'link', e),\n    onClick: (linkProps, e) => handleClick(linkProps, 'link', e)\n  }), /*#__PURE__*/React.createElement(AllNodeElements, {\n    graphicalItemId: id,\n    modifiedNodes: modifiedNodes,\n    nodeContent: node,\n    dataKey: dataKey,\n    onMouseEnter: (nodeProps, e) => handleMouseEnter(nodeProps, 'node', e),\n    onMouseLeave: (nodeProps, e) => handleMouseLeave(nodeProps, 'node', e),\n    onClick: (nodeProps, e) => handleClick(nodeProps, 'node', e)\n  })));\n}\n\n/**\n * Flow diagram in which the width of the arrows is proportional to the flow rate.\n * It is typically used to visualize energy or material or cost transfers between processes.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\nexport function Sankey(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, sankeyDefaultProps);\n  var {\n    width,\n    height,\n    style,\n    className,\n    id: externalId\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: className !== null && className !== void 0 ? className : 'Sankey'\n  }, /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: width,\n    height: height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: props.margin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Sankey, same as Treemap, suffers from overfilling the container\n     * and causing infinite render loops where the chart keeps growing.\n     */,\n    responsive: false,\n    ref: node => {\n      if (node && !tooltipPortal) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"sankey\"\n  }, id => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetSankeyTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    nameKey: props.nameKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    data: props.data,\n    id: id\n  }), /*#__PURE__*/React.createElement(SankeyImpl, _extends({}, props, {\n    id: id\n  })))))));\n}\nSankey.displayName = 'Sankey';","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","useCallback","useMemo","useState","maxBy","sumBy","get","Surface","Layer","Rectangle","getValueByDataKey","ReportChartMargin","ReportChartSize","useChartHeight","useChartWidth","TooltipPortalContext","RechartsWrapper","RechartsStoreProvider","useAppDispatch","mouseLeaveItem","setActiveClickItemIndex","setActiveMouseOverItemIndex","SetTooltipEntrySettings","SetComputedData","svgPropertiesNoEvents","svgPropertiesNoEventsFromUnknown","resolveDefaultProps","isPositiveNumber","isNotNil","noop","RegisterGraphicalItemId","interpolationGenerator","a","b","ka","kb","centerY","node","y","dy","getValue","entry","getSumOfIds","links","ids","reduce","result","id","getSumWithWeightedSource","tree","link","sourceNode","source","getSumWithWeightedTarget","targetNode","target","ascendingY","searchTargetsAndSources","sourceNodes","sourceLinks","targetNodes","targetLinks","len","updateDepthOfTargets","curNode","depth","Math","max","getNodesTree","_ref","width","nodeWidth","align","_maxBy$depth","_maxBy","nodes","map","index","maxDepth","childWidth","_i","_len","_node","x","dx","getDepthTree","_result$node$depth","updateYOfTree","depthTree","height","nodePadding","verticalAlign","yRatio","min","d","currentY","_i2","_len2","_node2","resolveCollisions","sort","undefined","y0","j","_j","_node3","_dy","relaxLeftToRight","alpha","sourceSum","weightedSum","relaxRightToLeft","targetSum","updateYOfLinks","sy","ty","_links$a","_links$b","_tree$targetA","_tree$targetB","targetA","targetB","yA","yB","_links$a2","_links$b2","_tree$sourceA","_tree$sourceB","sourceA","sourceB","tLen","targetLink","_j2","sLen","sourceLink","_link","computeData","_ref2","data","iterations","linksWithDy","newLinks","getNodeCoordinateOfTooltip","item","getLinkCoordinateOfTooltip","sourceX","targetX","sourceY","targetY","getPayloadOfTooltip","type","nameKey","payload","name","sourceName","targetName","concat","sankeyPayloadSearcher","_","activeIndex","computedData","splitIndex","split","targetType","options","chartName","defaultTooltipEventType","validateTooltipEventTypes","tooltipPayloadSearcher","eventEmitter","SetSankeyTooltipEntrySettings","memo","_ref3","dataKey","stroke","strokeWidth","fill","tooltipEntrySettings","dataDefinedOnItem","getPosition","settings","hide","color","unit","graphicalItemId","createElement","renderLinkItem","option","props","isValidElement","cloneElement","sourceControlX","targetControlX","linkWidth","others","className","strokeOpacity","buildLinkProps","_ref4","left","top","linkContent","linkCurvature","sourceRelativeY","targetRelativeY","interpolationFunc","linkProps","SankeyLinkElement","_ref5","onMouseEnter","_onMouseEnter","onMouseLeave","_onMouseLeave","onClick","_onClick","activeCoordinate","dispatch","events","activeDataKey","activeGraphicalItemId","AllSankeyLinkElements","_ref6","modifiedLinks","key","renderNodeItem","fillOpacity","buildNodeProps","_ref7","nodeContent","nodeProps","NodeElement","_ref8","_onMouseEnter2","_onMouseLeave2","_onClick2","AllNodeElements","_ref9","modifiedNodes","modifiedNode","sankeyDefaultProps","margin","right","bottom","SankeyImpl","style","children","attrs","_margin$left","_margin$right","_margin$top","_margin$bottom","contentWidth","contentHeight","computed","newModifiedLinks","l","newModifiedNodes","handleMouseEnter","handleMouseLeave","handleClick","Fragment","Sankey","outsideProps","externalId","tooltipPortal","setTooltipPortal","preloadedState","reduxStoreName","responsive","ref","onMouseMove","onMouseDown","onMouseUp","onContextMenu","onDoubleClick","onTouchStart","onTouchMove","onTouchEnd","Provider","displayName"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/node_modules/recharts/es6/chart/Sankey.js"],"sourcesContent":["var _excluded = [\"sourceX\", \"sourceY\", \"sourceControlX\", \"targetX\", \"targetY\", \"targetControlX\", \"linkWidth\"],\n  _excluded2 = [\"className\", \"style\", \"children\", \"id\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { useCallback, useMemo, useState } from 'react';\nimport maxBy from 'es-toolkit/compat/maxBy';\nimport sumBy from 'es-toolkit/compat/sumBy';\nimport get from 'es-toolkit/compat/get';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { ReportChartMargin, ReportChartSize, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { mouseLeaveItem, setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetComputedData } from '../context/chartDataContext';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { isNotNil, noop } from '../util/DataUtils';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar interpolationGenerator = (a, b) => {\n  var ka = +a;\n  var kb = b - ka;\n  return t => ka + kb * t;\n};\nvar centerY = node => node.y + node.dy / 2;\n\n// TODO why is this not reading dataKey?\nvar getValue = entry => entry && entry.value || 0;\nvar getSumOfIds = (links, ids) => ids.reduce((result, id) => result + getValue(links[id]), 0);\nvar getSumWithWeightedSource = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  if (link == null) {\n    return result;\n  }\n  var sourceNode = tree[link.source];\n  if (sourceNode == null) {\n    return result;\n  }\n  return result + centerY(sourceNode) * getValue(links[id]);\n}, 0);\nvar getSumWithWeightedTarget = (tree, links, ids) => ids.reduce((result, id) => {\n  var link = links[id];\n  if (link == null) {\n    return result;\n  }\n  var targetNode = tree[link.target];\n  if (targetNode == null) {\n    return result;\n  }\n  return result + centerY(targetNode) * getValue(links[id]);\n}, 0);\nvar ascendingY = (a, b) => a.y - b.y;\nvar searchTargetsAndSources = (links, id) => {\n  var sourceNodes = [];\n  var sourceLinks = [];\n  var targetNodes = [];\n  var targetLinks = [];\n  for (var i = 0, len = links.length; i < len; i++) {\n    var link = links[i];\n    if ((link === null || link === void 0 ? void 0 : link.source) === id) {\n      targetNodes.push(link.target);\n      targetLinks.push(i);\n    }\n    if ((link === null || link === void 0 ? void 0 : link.target) === id) {\n      sourceNodes.push(link.source);\n      sourceLinks.push(i);\n    }\n  }\n  return {\n    sourceNodes,\n    sourceLinks,\n    targetLinks,\n    targetNodes\n  };\n};\nvar updateDepthOfTargets = (tree, curNode) => {\n  var {\n    targetNodes\n  } = curNode;\n  for (var i = 0, len = targetNodes.length; i < len; i++) {\n    var targetNode = targetNodes[i];\n    if (targetNode == null) {\n      continue;\n    }\n    var target = tree[targetNode];\n    if (target) {\n      target.depth = Math.max(curNode.depth + 1, target.depth);\n      updateDepthOfTargets(tree, target);\n    }\n  }\n};\nvar getNodesTree = (_ref, width, nodeWidth, align) => {\n  var _maxBy$depth, _maxBy;\n  var {\n    nodes,\n    links\n  } = _ref;\n  var tree = nodes.map((entry, index) => {\n    var result = searchTargetsAndSources(links, index);\n    return _objectSpread(_objectSpread(_objectSpread({}, entry), result), {}, {\n      value: Math.max(getSumOfIds(links, result.sourceLinks), getSumOfIds(links, result.targetLinks)),\n      depth: 0\n    });\n  });\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (node != null && !node.sourceNodes.length) {\n      updateDepthOfTargets(tree, node);\n    }\n  }\n  var maxDepth = (_maxBy$depth = (_maxBy = maxBy(tree, entry => entry.depth)) === null || _maxBy === void 0 ? void 0 : _maxBy.depth) !== null && _maxBy$depth !== void 0 ? _maxBy$depth : 0;\n  if (maxDepth >= 1) {\n    var childWidth = (width - nodeWidth) / maxDepth;\n    for (var _i = 0, _len = tree.length; _i < _len; _i++) {\n      var _node = tree[_i];\n      if (_node == null) {\n        continue;\n      }\n      if (!_node.targetNodes.length) {\n        if (align === 'justify') {\n          _node.depth = maxDepth;\n        }\n      }\n      _node.x = _node.depth * childWidth;\n      _node.dx = nodeWidth;\n    }\n  }\n  return {\n    tree,\n    maxDepth\n  };\n};\nvar getDepthTree = tree => {\n  var result = [];\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var _result$node$depth;\n    var node = tree[i];\n    if (node == null) {\n      continue;\n    }\n    if (!result[node.depth]) {\n      result[node.depth] = [];\n    }\n    (_result$node$depth = result[node.depth]) === null || _result$node$depth === void 0 || _result$node$depth.push(node);\n  }\n  return result;\n};\nvar updateYOfTree = (depthTree, height, nodePadding, links, verticalAlign) => {\n  var yRatio = Math.min(...depthTree.map(nodes => (height - (nodes.length - 1) * nodePadding) / sumBy(nodes, getValue)));\n  for (var d = 0, maxDepth = depthTree.length; d < maxDepth; d++) {\n    var nodes = depthTree[d];\n    if (nodes == null) {\n      continue;\n    }\n    if (verticalAlign === 'top') {\n      var currentY = 0;\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        var node = nodes[i];\n        if (node == null) {\n          continue;\n        }\n        node.dy = node.value * yRatio;\n        node.y = currentY;\n        currentY += node.dy + nodePadding;\n      }\n    } else {\n      for (var _i2 = 0, _len2 = nodes.length; _i2 < _len2; _i2++) {\n        var _node2 = nodes[_i2];\n        if (_node2 == null) {\n          continue;\n        }\n        _node2.y = _i2;\n        _node2.dy = _node2.value * yRatio;\n      }\n    }\n  }\n  return links.map(link => _objectSpread(_objectSpread({}, link), {}, {\n    dy: getValue(link) * yRatio\n  }));\n};\nvar resolveCollisions = function resolveCollisions(depthTree, height, nodePadding) {\n  var sort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  for (var i = 0, len = depthTree.length; i < len; i++) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    var n = nodes.length;\n\n    // Sort by the value of y\n    if (sort) {\n      nodes.sort(ascendingY);\n    }\n    var y0 = 0;\n    for (var j = 0; j < n; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      var dy = y0 - node.y;\n      if (dy > 0) {\n        node.y += dy;\n      }\n      y0 = node.y + node.dy + nodePadding;\n    }\n    y0 = height + nodePadding;\n    for (var _j = n - 1; _j >= 0; _j--) {\n      var _node3 = nodes[_j];\n      if (_node3 == null) {\n        continue;\n      }\n      var _dy = _node3.y + _node3.dy + nodePadding - y0;\n      if (_dy > 0) {\n        _node3.y -= _dy;\n        y0 = _node3.y;\n      } else {\n        break;\n      }\n    }\n  }\n};\nvar relaxLeftToRight = (tree, depthTree, links, alpha) => {\n  for (var i = 0, maxDepth = depthTree.length; i < maxDepth; i++) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      if (node.sourceLinks.length) {\n        var sourceSum = getSumOfIds(links, node.sourceLinks);\n        var weightedSum = getSumWithWeightedSource(tree, links, node.sourceLinks);\n        var y = weightedSum / sourceSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar relaxRightToLeft = (tree, depthTree, links, alpha) => {\n  for (var i = depthTree.length - 1; i >= 0; i--) {\n    var nodes = depthTree[i];\n    if (nodes == null) {\n      continue;\n    }\n    for (var j = 0, len = nodes.length; j < len; j++) {\n      var node = nodes[j];\n      if (node == null) {\n        continue;\n      }\n      if (node.targetLinks.length) {\n        var targetSum = getSumOfIds(links, node.targetLinks);\n        var weightedSum = getSumWithWeightedTarget(tree, links, node.targetLinks);\n        var y = weightedSum / targetSum;\n        node.y += (y - centerY(node)) * alpha;\n      }\n    }\n  }\n};\nvar updateYOfLinks = (tree, links) => {\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var node = tree[i];\n    if (node == null) {\n      continue;\n    }\n    var sy = 0;\n    var ty = 0;\n    node.targetLinks.sort((a, b) => {\n      var _links$a, _links$b, _tree$targetA, _tree$targetB;\n      var targetA = (_links$a = links[a]) === null || _links$a === void 0 ? void 0 : _links$a.target;\n      var targetB = (_links$b = links[b]) === null || _links$b === void 0 ? void 0 : _links$b.target;\n      if (targetA == null || targetB == null) {\n        return 0;\n      }\n      var yA = (_tree$targetA = tree[targetA]) === null || _tree$targetA === void 0 ? void 0 : _tree$targetA.y;\n      var yB = (_tree$targetB = tree[targetB]) === null || _tree$targetB === void 0 ? void 0 : _tree$targetB.y;\n      if (yA == null || yB == null) {\n        return 0;\n      }\n      return yA - yB;\n    });\n    node.sourceLinks.sort((a, b) => {\n      var _links$a2, _links$b2, _tree$sourceA, _tree$sourceB;\n      var sourceA = (_links$a2 = links[a]) === null || _links$a2 === void 0 ? void 0 : _links$a2.source;\n      var sourceB = (_links$b2 = links[b]) === null || _links$b2 === void 0 ? void 0 : _links$b2.source;\n      if (sourceA == null || sourceB == null) {\n        return 0;\n      }\n      var yA = (_tree$sourceA = tree[sourceA]) === null || _tree$sourceA === void 0 ? void 0 : _tree$sourceA.y;\n      var yB = (_tree$sourceB = tree[sourceB]) === null || _tree$sourceB === void 0 ? void 0 : _tree$sourceB.y;\n      if (yA == null || yB == null) {\n        return 0;\n      }\n      return yA - yB;\n    });\n    for (var j = 0, tLen = node.targetLinks.length; j < tLen; j++) {\n      var targetLink = node.targetLinks[j];\n      if (targetLink == null) {\n        continue;\n      }\n      var link = links[targetLink];\n      if (link) {\n        // @ts-expect-error we should refactor this to immutable\n        link.sy = sy;\n        sy += link.dy;\n      }\n    }\n    for (var _j2 = 0, sLen = node.sourceLinks.length; _j2 < sLen; _j2++) {\n      var sourceLink = node.sourceLinks[_j2];\n      if (sourceLink == null) {\n        continue;\n      }\n      var _link = links[sourceLink];\n      if (_link) {\n        // @ts-expect-error we should refactor this to immutable\n        _link.ty = ty;\n        ty += _link.dy;\n      }\n    }\n  }\n};\nvar computeData = _ref2 => {\n  var {\n    data,\n    width,\n    height,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    verticalAlign,\n    align\n  } = _ref2;\n  var {\n    links\n  } = data;\n  var {\n    tree\n  } = getNodesTree(data, width, nodeWidth, align);\n  var depthTree = getDepthTree(tree);\n  var linksWithDy = updateYOfTree(depthTree, height, nodePadding, links, verticalAlign);\n  resolveCollisions(depthTree, height, nodePadding, sort);\n  if (verticalAlign === 'justify') {\n    var alpha = 1;\n    for (var i = 1; i <= iterations; i++) {\n      relaxRightToLeft(tree, depthTree, linksWithDy, alpha *= 0.99);\n      resolveCollisions(depthTree, height, nodePadding, sort);\n      relaxLeftToRight(tree, depthTree, linksWithDy, alpha);\n      resolveCollisions(depthTree, height, nodePadding, sort);\n    }\n  }\n  updateYOfLinks(tree, linksWithDy);\n  // @ts-expect-error updateYOfLinks modifies the links array to add sy and ty in place\n  var newLinks = linksWithDy;\n  return {\n    nodes: tree,\n    links: newLinks\n  };\n};\nvar getNodeCoordinateOfTooltip = item => {\n  return {\n    x: +item.x + +item.width / 2,\n    y: +item.y + +item.height / 2\n  };\n};\nvar getLinkCoordinateOfTooltip = item => {\n  return 'sourceX' in item ? {\n    x: (item.sourceX + item.targetX) / 2,\n    y: (item.sourceY + item.targetY) / 2\n  } : undefined;\n};\nvar getPayloadOfTooltip = (item, type, nameKey) => {\n  var {\n    payload\n  } = item;\n  if (type === 'node') {\n    return {\n      payload,\n      name: getValueByDataKey(payload, nameKey, ''),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  if ('source' in payload && payload.source && payload.target) {\n    var sourceName = getValueByDataKey(payload.source, nameKey, '');\n    var targetName = getValueByDataKey(payload.target, nameKey, '');\n    return {\n      payload,\n      name: \"\".concat(sourceName, \" - \").concat(targetName),\n      value: getValueByDataKey(payload, 'value')\n    };\n  }\n  return undefined;\n};\nexport var sankeyPayloadSearcher = (_, activeIndex, computedData, nameKey) => {\n  if (activeIndex == null || typeof activeIndex !== 'string') {\n    return undefined;\n  }\n  if (computedData == null || typeof computedData !== 'object') {\n    return undefined;\n  }\n  var splitIndex = activeIndex.split('-');\n  var [targetType, index] = splitIndex;\n  var item = get(computedData, \"\".concat(targetType, \"s[\").concat(index, \"]\"));\n  if (item) {\n    var payload = getPayloadOfTooltip(item, targetType, nameKey);\n    return payload;\n  }\n  return undefined;\n};\nvar options = {\n  chartName: 'Sankey',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: sankeyPayloadSearcher,\n  eventEmitter: undefined\n};\nvar SetSankeyTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    data,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: data,\n    getPosition: noop,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\n\n// TODO: improve types - NodeOptions uses SankeyNode, LinkOptions uses LinkProps. Standardize.\n\nfunction renderLinkItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  var {\n      sourceX,\n      sourceY,\n      sourceControlX,\n      targetX,\n      targetY,\n      targetControlX,\n      linkWidth\n    } = props,\n    others = _objectWithoutProperties(props, _excluded);\n  return /*#__PURE__*/React.createElement(\"path\", _extends({\n    className: \"recharts-sankey-link\",\n    d: \"\\n          M\".concat(sourceX, \",\").concat(sourceY, \"\\n          C\").concat(sourceControlX, \",\").concat(sourceY, \" \").concat(targetControlX, \",\").concat(targetY, \" \").concat(targetX, \",\").concat(targetY, \"\\n        \"),\n    fill: \"none\",\n    stroke: \"#333\",\n    strokeWidth: linkWidth,\n    strokeOpacity: \"0.2\"\n  }, svgPropertiesNoEvents(others)));\n}\nvar buildLinkProps = _ref4 => {\n  var {\n    link,\n    nodes,\n    left,\n    top,\n    i,\n    linkContent,\n    linkCurvature\n  } = _ref4;\n  var {\n    sy: sourceRelativeY,\n    ty: targetRelativeY,\n    dy: linkWidth\n  } = link;\n  var sourceNode = nodes[link.source];\n  var targetNode = nodes[link.target];\n  if (sourceNode == null || targetNode == null) {\n    return undefined;\n  }\n  var sourceX = sourceNode.x + sourceNode.dx + left;\n  var targetX = targetNode.x + left;\n  var interpolationFunc = interpolationGenerator(sourceX, targetX);\n  var sourceControlX = interpolationFunc(linkCurvature);\n  var targetControlX = interpolationFunc(1 - linkCurvature);\n  var sourceY = sourceNode.y + sourceRelativeY + linkWidth / 2 + top;\n  var targetY = targetNode.y + targetRelativeY + linkWidth / 2 + top;\n  var linkProps = _objectSpread({\n    sourceX,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetX,\n    sourceY,\n    // @ts-expect-error the linkContent from below is contributing unknown props\n    targetY,\n    sourceControlX,\n    targetControlX,\n    sourceRelativeY,\n    targetRelativeY,\n    linkWidth,\n    index: i,\n    payload: _objectSpread(_objectSpread({}, link), {}, {\n      source: sourceNode,\n      target: targetNode\n    })\n  }, svgPropertiesNoEventsFromUnknown(linkContent));\n  return linkProps;\n};\nfunction SankeyLinkElement(_ref5) {\n  var {\n    graphicalItemId,\n    props,\n    i,\n    linkContent,\n    onMouseEnter: _onMouseEnter,\n    onMouseLeave: _onMouseLeave,\n    onClick: _onClick,\n    dataKey\n  } = _ref5;\n  var activeCoordinate = getLinkCoordinateOfTooltip(props);\n  var activeIndex = \"link-\".concat(i);\n  var dispatch = useAppDispatch();\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onMouseEnter(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onClick(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderLinkItem(linkContent, props));\n}\nfunction AllSankeyLinkElements(_ref6) {\n  var {\n    graphicalItemId,\n    modifiedLinks,\n    links,\n    linkContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref6;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-links\",\n    key: \"recharts-sankey-links\"\n  }, links.map((link, i) => {\n    var linkProps = modifiedLinks[i];\n    if (linkProps == null) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(SankeyLinkElement, {\n      graphicalItemId: graphicalItemId,\n      key: \"link-\".concat(link.source, \"-\").concat(link.target, \"-\").concat(link.value),\n      props: linkProps,\n      linkContent: linkContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nfunction renderNodeItem(option, props) {\n  if (/*#__PURE__*/React.isValidElement(option)) {\n    return /*#__PURE__*/React.cloneElement(option, props);\n  }\n  if (typeof option === 'function') {\n    return option(props);\n  }\n  return (\n    /*#__PURE__*/\n    // @ts-expect-error recharts radius is not compatible with SVG radius\n    React.createElement(Rectangle, _extends({\n      className: \"recharts-sankey-node\",\n      fill: \"#0088fe\",\n      fillOpacity: \"0.8\"\n    }, svgPropertiesNoEvents(props)))\n  );\n}\nvar buildNodeProps = _ref7 => {\n  var {\n    node,\n    nodeContent,\n    top,\n    left,\n    i\n  } = _ref7;\n  var {\n    x,\n    y,\n    dx,\n    dy\n  } = node;\n  // @ts-expect-error nodeContent is passing in unknown props\n  var nodeProps = _objectSpread(_objectSpread({}, svgPropertiesNoEventsFromUnknown(nodeContent)), {}, {\n    x: x + left,\n    y: y + top,\n    width: dx,\n    height: dy,\n    index: i,\n    payload: node\n  });\n  return nodeProps;\n};\nfunction NodeElement(_ref8) {\n  var {\n    graphicalItemId,\n    props,\n    nodeContent,\n    i,\n    onMouseEnter: _onMouseEnter2,\n    onMouseLeave: _onMouseLeave2,\n    onClick: _onClick2,\n    dataKey\n  } = _ref8;\n  var dispatch = useAppDispatch();\n  var activeCoordinate = getNodeCoordinateOfTooltip(props);\n  var activeIndex = \"node-\".concat(i);\n  var events = {\n    onMouseEnter: e => {\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onMouseEnter2(props, e);\n    },\n    onMouseLeave: e => {\n      dispatch(mouseLeaveItem());\n      _onMouseLeave2(props, e);\n    },\n    onClick: e => {\n      dispatch(setActiveClickItemIndex({\n        activeIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: graphicalItemId\n      }));\n      _onClick2(props, e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Layer, events, renderNodeItem(nodeContent, props));\n}\nfunction AllNodeElements(_ref9) {\n  var {\n    graphicalItemId,\n    modifiedNodes,\n    nodeContent,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    dataKey\n  } = _ref9;\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-sankey-nodes\",\n    key: \"recharts-sankey-nodes\"\n  }, modifiedNodes.map((modifiedNode, i) => {\n    return /*#__PURE__*/React.createElement(NodeElement, {\n      graphicalItemId: graphicalItemId,\n      key: \"node-\".concat(modifiedNode.index, \"-\").concat(modifiedNode.x, \"-\").concat(modifiedNode.y),\n      props: modifiedNode,\n      nodeContent: nodeContent,\n      i: i,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      dataKey: dataKey\n    });\n  }));\n}\nexport var sankeyDefaultProps = {\n  align: 'justify',\n  dataKey: 'value',\n  iterations: 32,\n  linkCurvature: 0.5,\n  margin: {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5\n  },\n  nameKey: 'name',\n  nodePadding: 10,\n  nodeWidth: 10,\n  sort: true,\n  verticalAlign: 'justify'\n};\nfunction SankeyImpl(props) {\n  var {\n      className,\n      style,\n      children,\n      id\n    } = props,\n    others = _objectWithoutProperties(props, _excluded2);\n  var {\n    link,\n    dataKey,\n    node,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    data,\n    iterations,\n    nodeWidth,\n    nodePadding,\n    sort,\n    linkCurvature,\n    margin,\n    verticalAlign,\n    align\n  } = props;\n  var attrs = svgPropertiesNoEvents(others);\n  var width = useChartWidth();\n  var height = useChartHeight();\n  var {\n    links,\n    modifiedLinks,\n    modifiedNodes\n  } = useMemo(() => {\n    var _margin$left, _margin$right, _margin$top, _margin$bottom;\n    if (!data || !width || !height || width <= 0 || height <= 0) {\n      return {\n        nodes: [],\n        links: [],\n        modifiedLinks: [],\n        modifiedNodes: []\n      };\n    }\n    var contentWidth = width - ((_margin$left = margin.left) !== null && _margin$left !== void 0 ? _margin$left : 0) - ((_margin$right = margin.right) !== null && _margin$right !== void 0 ? _margin$right : 0);\n    var contentHeight = height - ((_margin$top = margin.top) !== null && _margin$top !== void 0 ? _margin$top : 0) - ((_margin$bottom = margin.bottom) !== null && _margin$bottom !== void 0 ? _margin$bottom : 0);\n    var computed = computeData({\n      data,\n      width: contentWidth,\n      height: contentHeight,\n      iterations,\n      nodeWidth,\n      nodePadding,\n      sort,\n      verticalAlign,\n      align\n    });\n    var top = margin.top || 0;\n    var left = margin.left || 0;\n    var newModifiedLinks = computed.links.map((l, i) => {\n      return buildLinkProps({\n        link: l,\n        nodes: computed.nodes,\n        i,\n        top,\n        left,\n        linkContent: link,\n        linkCurvature\n      });\n    }).filter(isNotNil);\n    var newModifiedNodes = computed.nodes.map((n, i) => {\n      return buildNodeProps({\n        node: n,\n        nodeContent: node,\n        i,\n        top,\n        left\n      });\n    });\n    return {\n      nodes: computed.nodes,\n      links: computed.links,\n      modifiedLinks: newModifiedLinks,\n      modifiedNodes: newModifiedNodes\n    };\n  }, [data, width, height, margin, iterations, nodeWidth, nodePadding, sort, link, node, linkCurvature, align, verticalAlign]);\n  var handleMouseEnter = useCallback((item, type, e) => {\n    if (onMouseEnter) {\n      onMouseEnter(item, type, e);\n    }\n  }, [onMouseEnter]);\n  var handleMouseLeave = useCallback((item, type, e) => {\n    if (onMouseLeave) {\n      onMouseLeave(item, type, e);\n    }\n  }, [onMouseLeave]);\n  var handleClick = useCallback((item, type, e) => {\n    if (onClick) {\n      onClick(item, type, e);\n    }\n  }, [onClick]);\n  if (!isPositiveNumber(width) || !isPositiveNumber(height) || !data || !data.links || !data.nodes) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetComputedData, {\n    computedData: {\n      links: modifiedLinks,\n      nodes: modifiedNodes\n    }\n  }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n    width: width,\n    height: height\n  }), children, /*#__PURE__*/React.createElement(AllSankeyLinkElements, {\n    graphicalItemId: id,\n    links: links,\n    modifiedLinks: modifiedLinks,\n    linkContent: link,\n    dataKey: dataKey,\n    onMouseEnter: (linkProps, e) => handleMouseEnter(linkProps, 'link', e),\n    onMouseLeave: (linkProps, e) => handleMouseLeave(linkProps, 'link', e),\n    onClick: (linkProps, e) => handleClick(linkProps, 'link', e)\n  }), /*#__PURE__*/React.createElement(AllNodeElements, {\n    graphicalItemId: id,\n    modifiedNodes: modifiedNodes,\n    nodeContent: node,\n    dataKey: dataKey,\n    onMouseEnter: (nodeProps, e) => handleMouseEnter(nodeProps, 'node', e),\n    onMouseLeave: (nodeProps, e) => handleMouseLeave(nodeProps, 'node', e),\n    onClick: (nodeProps, e) => handleClick(nodeProps, 'node', e)\n  })));\n}\n\n/**\n * Flow diagram in which the width of the arrows is proportional to the flow rate.\n * It is typically used to visualize energy or material or cost transfers between processes.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\nexport function Sankey(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, sankeyDefaultProps);\n  var {\n    width,\n    height,\n    style,\n    className,\n    id: externalId\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: className !== null && className !== void 0 ? className : 'Sankey'\n  }, /*#__PURE__*/React.createElement(ReportChartSize, {\n    width: width,\n    height: height\n  }), /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: props.margin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Sankey, same as Treemap, suffers from overfilling the container\n     * and causing infinite render loops where the chart keeps growing.\n     */,\n    responsive: false,\n    ref: node => {\n      if (node && !tooltipPortal) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"sankey\"\n  }, id => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetSankeyTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    nameKey: props.nameKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    data: props.data,\n    id: id\n  }), /*#__PURE__*/React.createElement(SankeyImpl, _extends({}, props, {\n    id: id\n  })))))));\n}\nSankey.displayName = 'Sankey';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}