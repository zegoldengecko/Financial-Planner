{"ast":null,"code":"var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\", \"shape\", \"activeShape\"],\n  _excluded2 = [\"id\"],\n  _excluded3 = [\"stroke\", \"fill\", \"legendType\", \"hide\", \"isAnimationActive\", \"animationBegin\", \"animationDuration\", \"animationEasing\", \"nameKey\", \"lastShapeType\", \"id\"],\n  _excluded4 = [\"id\"];\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nimport * as React from 'react';\nimport { useCallback, useMemo, useRef, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport { clsx } from 'clsx';\nimport { selectActiveIndex } from '../state/selectors/selectors';\nimport { useAppSelector } from '../state/hooks';\nimport { Layer } from '../container/Layer';\nimport { CartesianLabelListContextProvider, LabelListFromLabelProp } from '../component/LabelList';\nimport { getPercentValue, interpolate } from '../util/DataUtils';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { FunnelTrapezoid } from '../util/FunnelUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectFunnelTrapezoids } from '../state/selectors/funnelSelectors';\nimport { findAllByType } from '../util/ReactUtils';\nimport { Cell } from '../component/Cell';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { usePlotArea } from '../hooks';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\n\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\n/**\n * External props, intended for end users to fill in\n */\n\nvar SetFunnelTooltipEntrySettings = /*#__PURE__*/React.memo(_ref => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType,\n    data,\n    trapezoids,\n    id\n  } = _ref;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: data,\n    getPosition: index => {\n      var _trapezoids$Number;\n      return (_trapezoids$Number = trapezoids[Number(index)]) === null || _trapezoids$Number === void 0 ? void 0 : _trapezoids$Number.tooltipPosition;\n    },\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '',\n      // Funnel does not have unit, why?\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\nfunction FunnelLabelListProvider(_ref2) {\n  var {\n    showLabels,\n    trapezoids,\n    children\n  } = _ref2;\n  var labelListEntries = useMemo(() => {\n    if (!showLabels) {\n      return undefined;\n    }\n    return trapezoids === null || trapezoids === void 0 ? void 0 : trapezoids.map(entry => {\n      var viewBox = entry.labelViewBox;\n      return _objectSpread(_objectSpread({}, viewBox), {}, {\n        value: entry.name,\n        payload: entry.payload,\n        parentViewBox: entry.parentViewBox,\n        viewBox,\n        fill: entry.fill\n      });\n    });\n  }, [showLabels, trapezoids]);\n  return /*#__PURE__*/React.createElement(CartesianLabelListContextProvider, {\n    value: labelListEntries\n  }, children);\n}\nfunction FunnelTrapezoids(props) {\n  var {\n    trapezoids,\n    allOtherFunnelProps\n  } = props;\n  var activeItemIndex = useAppSelector(state => selectActiveIndex(state, 'item', state.tooltip.settings.trigger, undefined));\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      shape,\n      activeShape\n    } = allOtherFunnelProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherFunnelProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherFunnelProps.dataKey, allOtherFunnelProps.id);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherFunnelProps.dataKey, allOtherFunnelProps.id);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, trapezoids.map((entry, i) => {\n    var isActiveIndex = Boolean(activeShape) && activeItemIndex === String(i);\n    var trapezoidOptions = isActiveIndex ? activeShape : shape;\n    var _entry$option$isActiv = _objectSpread(_objectSpread({}, entry), {}, {\n        option: trapezoidOptions,\n        isActive: isActiveIndex,\n        stroke: entry.stroke\n      }),\n      {\n        id\n      } = _entry$option$isActiv,\n      trapezoidProps = _objectWithoutProperties(_entry$option$isActiv, _excluded2);\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      key: \"trapezoid-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.name, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value),\n      className: \"recharts-funnel-trapezoid\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n\n      onClick: onClickFromContext(entry, i)\n    }), /*#__PURE__*/React.createElement(FunnelTrapezoid, trapezoidProps));\n  }));\n}\nfunction TrapezoidsWithAnimation(_ref3) {\n  var {\n    previousTrapezoidsRef,\n    props\n  } = _ref3;\n  var {\n    trapezoids,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  var [isAnimating, setIsAnimating] = useState(false);\n  var showLabels = !isAnimating;\n  var animationId = useAnimationId(trapezoids, 'recharts-funnel-');\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(FunnelLabelListProvider, {\n    showLabels: showLabels,\n    trapezoids: trapezoids\n  }, /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    animationId: animationId,\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    key: animationId,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, t => {\n    var stepData = t === 1 ? trapezoids : trapezoids.map((entry, index) => {\n      var prev = prevTrapezoids && prevTrapezoids[index];\n      if (prev) {\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolate(prev.x, entry.x, t),\n          y: interpolate(prev.y, entry.y, t),\n          upperWidth: interpolate(prev.upperWidth, entry.upperWidth, t),\n          lowerWidth: interpolate(prev.lowerWidth, entry.lowerWidth, t),\n          height: interpolate(prev.height, entry.height, t)\n        });\n      }\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolate(entry.x + entry.upperWidth / 2, entry.x, t),\n        y: interpolate(entry.y + entry.height / 2, entry.y, t),\n        upperWidth: interpolate(0, entry.upperWidth, t),\n        lowerWidth: interpolate(0, entry.lowerWidth, t),\n        height: interpolate(0, entry.height, t)\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousTrapezoidsRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n      trapezoids: stepData,\n      allOtherFunnelProps: props\n    }));\n  }), /*#__PURE__*/React.createElement(LabelListFromLabelProp, {\n    label: props.label\n  }), props.children);\n}\nfunction RenderTrapezoids(props) {\n  var previousTrapezoidsRef = useRef(undefined);\n  return /*#__PURE__*/React.createElement(TrapezoidsWithAnimation, {\n    props: props,\n    previousTrapezoidsRef: previousTrapezoidsRef\n  });\n}\nvar getRealWidthHeight = (customWidth, offset) => {\n  var {\n    width,\n    height,\n    left,\n    top\n  } = offset;\n  var realWidth = getPercentValue(customWidth, width, width);\n  return {\n    realWidth,\n    realHeight: height,\n    offsetX: left,\n    offsetY: top\n  };\n};\nexport var defaultFunnelProps = {\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  fill: '#808080',\n  hide: false,\n  isAnimationActive: 'auto',\n  lastShapeType: 'triangle',\n  legendType: 'rect',\n  nameKey: 'name',\n  reversed: false,\n  stroke: '#fff'\n};\nfunction FunnelImpl(props) {\n  var plotArea = usePlotArea();\n  var {\n      stroke,\n      fill,\n      legendType,\n      hide,\n      isAnimationActive,\n      animationBegin,\n      animationDuration,\n      animationEasing,\n      nameKey,\n      lastShapeType,\n      id\n    } = props,\n    everythingElse = _objectWithoutProperties(props, _excluded3);\n  var presentationProps = svgPropertiesNoEvents(props);\n  var cells = findAllByType(props.children, Cell);\n  var funnelSettings = useMemo(() => ({\n    dataKey: props.dataKey,\n    nameKey,\n    data: props.data,\n    tooltipType: props.tooltipType,\n    lastShapeType,\n    reversed: props.reversed,\n    customWidth: props.width,\n    cells,\n    presentationProps,\n    id\n  }), [props.dataKey, nameKey, props.data, props.tooltipType, lastShapeType, props.reversed, props.width, cells, presentationProps, id]);\n  var trapezoids = useAppSelector(state => selectFunnelTrapezoids(state, funnelSettings));\n  if (hide || !trapezoids || !trapezoids.length || !plotArea) {\n    return null;\n  }\n  var {\n    height,\n    width\n  } = plotArea;\n  var layerClass = clsx('recharts-trapezoids', props.className);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetFunnelTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    nameKey: props.nameKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    hide: props.hide,\n    tooltipType: props.tooltipType,\n    data: props.data,\n    trapezoids: trapezoids,\n    id: id\n  }), /*#__PURE__*/React.createElement(Layer, {\n    className: layerClass\n  }, /*#__PURE__*/React.createElement(RenderTrapezoids, _extends({}, everythingElse, {\n    id: id,\n    stroke: stroke,\n    fill: fill,\n    nameKey: nameKey,\n    lastShapeType: lastShapeType,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive,\n    hide: hide,\n    legendType: legendType,\n    height: height,\n    width: width,\n    trapezoids: trapezoids\n  }))));\n}\nexport function computeFunnelTrapezoids(_ref4) {\n  var {\n    dataKey,\n    nameKey,\n    displayedData,\n    tooltipType,\n    lastShapeType,\n    reversed,\n    offset,\n    customWidth,\n    graphicalItemId\n  } = _ref4;\n  var {\n    realHeight,\n    realWidth,\n    offsetX,\n    offsetY\n  } = getRealWidthHeight(customWidth, offset);\n  var values = displayedData.map(entry => {\n    var val = getValueByDataKey(entry, dataKey, 0);\n    return typeof val === 'number' ? val : 0;\n  });\n  var maxValue = Math.max.apply(null, values);\n  var len = displayedData.length;\n  var rowHeight = realHeight / len;\n  var parentViewBox = {\n    x: offset.left,\n    y: offset.top,\n    width: offset.width,\n    height: offset.height\n  };\n  var trapezoids = displayedData.map((entry, i) => {\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var rawVal = getValueByDataKey(entry, dataKey, 0);\n    var name = String(getValueByDataKey(entry, nameKey, i));\n    var val = rawVal;\n    var nextVal;\n    if (i !== len - 1) {\n      var nextDataValue = getValueByDataKey(displayedData[i + 1], dataKey, 0);\n      if (typeof nextDataValue === 'number') {\n        nextVal = nextDataValue;\n      } else if (Array.isArray(nextDataValue)) {\n        var [first, second] = nextDataValue;\n        if (typeof first === 'number') {\n          val = first;\n        }\n        if (typeof second === 'number') {\n          nextVal = second;\n        }\n      }\n    } else if (rawVal instanceof Array && rawVal.length === 2) {\n      var [_first, _second] = rawVal;\n      if (typeof _first === 'number') {\n        val = _first;\n      }\n      if (typeof _second === 'number') {\n        nextVal = _second;\n      }\n    } else if (lastShapeType === 'rectangle') {\n      nextVal = val;\n    } else {\n      nextVal = 0;\n    }\n\n    // @ts-expect-error this is a problem if we have ranged values because `val` can be an array\n    var x = (maxValue - val) * realWidth / (2 * maxValue) + offsetX;\n    var y = rowHeight * i + offsetY;\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var upperWidth = val / maxValue * realWidth;\n    // @ts-expect-error nextVal could be an array\n    var lowerWidth = nextVal / maxValue * realWidth;\n    var tooltipPayload = [{\n      name,\n      value: val,\n      payload: entry,\n      dataKey,\n      type: tooltipType,\n      graphicalItemId\n    }];\n    var tooltipPosition = {\n      x: x + upperWidth / 2,\n      y: y + rowHeight / 2\n    };\n    var trapezoidViewBox = {\n      x,\n      y,\n      upperWidth,\n      lowerWidth,\n      width: Math.max(upperWidth, lowerWidth),\n      height: rowHeight\n    };\n    return _objectSpread(_objectSpread(_objectSpread({}, trapezoidViewBox), {}, {\n      name,\n      val,\n      tooltipPayload,\n      tooltipPosition\n    }, entry != null && typeof entry === 'object' ? omit(entry, ['width']) : {}), {}, {\n      payload: entry,\n      parentViewBox,\n      labelViewBox: trapezoidViewBox\n    });\n  });\n  if (reversed) {\n    trapezoids = trapezoids.map((entry, index) => {\n      var reversedViewBox = {\n        x: entry.x - (entry.lowerWidth - entry.upperWidth) / 2,\n        y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight,\n        upperWidth: entry.lowerWidth,\n        lowerWidth: entry.upperWidth,\n        width: Math.max(entry.lowerWidth, entry.upperWidth),\n        height: rowHeight\n      };\n      return _objectSpread(_objectSpread(_objectSpread({}, entry), reversedViewBox), {}, {\n        tooltipPosition: _objectSpread(_objectSpread({}, entry.tooltipPosition), {}, {\n          y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight + rowHeight / 2\n        }),\n        labelViewBox: reversedViewBox\n      });\n    });\n  }\n  return trapezoids;\n}\n\n/**\n * @consumes CartesianViewBoxContext\n * @provides LabelListContext\n * @provides CellReader\n */\nexport function Funnel(outsideProps) {\n  var _resolveDefaultProps = resolveDefaultProps(outsideProps, defaultFunnelProps),\n    {\n      id: externalId\n    } = _resolveDefaultProps,\n    props = _objectWithoutProperties(_resolveDefaultProps, _excluded4);\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"funnel\"\n  }, id => /*#__PURE__*/React.createElement(FunnelImpl, _extends({}, props, {\n    id: id\n  })));\n}\nFunnel.displayName = 'Funnel';","map":{"version":3,"names":["_excluded","_excluded2","_excluded3","_excluded4","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","useCallback","useMemo","useRef","useState","omit","clsx","selectActiveIndex","useAppSelector","Layer","CartesianLabelListContextProvider","LabelListFromLabelProp","getPercentValue","interpolate","getValueByDataKey","adaptEventsOfChild","FunnelTrapezoid","useMouseClickItemDispatch","useMouseEnterItemDispatch","useMouseLeaveItemDispatch","SetTooltipEntrySettings","selectFunnelTrapezoids","findAllByType","Cell","resolveDefaultProps","usePlotArea","svgPropertiesNoEvents","JavascriptAnimate","useAnimationId","RegisterGraphicalItemId","SetFunnelTooltipEntrySettings","memo","_ref","dataKey","nameKey","stroke","strokeWidth","fill","name","hide","tooltipType","data","trapezoids","id","tooltipEntrySettings","dataDefinedOnItem","getPosition","index","_trapezoids$Number","tooltipPosition","settings","type","color","unit","graphicalItemId","createElement","FunnelLabelListProvider","_ref2","showLabels","children","labelListEntries","undefined","map","entry","viewBox","labelViewBox","payload","parentViewBox","FunnelTrapezoids","props","allOtherFunnelProps","activeItemIndex","state","tooltip","trigger","onMouseEnter","onMouseEnterFromProps","onClick","onItemClickFromProps","onMouseLeave","onMouseLeaveFromProps","shape","activeShape","restOfAllOtherProps","onMouseEnterFromContext","onMouseLeaveFromContext","onClickFromContext","Fragment","isActiveIndex","Boolean","trapezoidOptions","_entry$option$isActiv","option","isActive","trapezoidProps","key","concat","x","y","className","TrapezoidsWithAnimation","_ref3","previousTrapezoidsRef","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevTrapezoids","current","isAnimating","setIsAnimating","animationId","handleAnimationEnd","handleAnimationStart","begin","duration","easing","stepData","prev","upperWidth","lowerWidth","height","label","RenderTrapezoids","getRealWidthHeight","customWidth","offset","width","left","top","realWidth","realHeight","offsetX","offsetY","defaultFunnelProps","lastShapeType","legendType","reversed","FunnelImpl","plotArea","everythingElse","presentationProps","cells","funnelSettings","layerClass","computeFunnelTrapezoids","_ref4","displayedData","values","val","maxValue","Math","max","len","rowHeight","rawVal","nextVal","nextDataValue","Array","isArray","first","second","_first","_second","tooltipPayload","trapezoidViewBox","reversedViewBox","Funnel","outsideProps","_resolveDefaultProps","externalId","displayName"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/node_modules/recharts/es6/cartesian/Funnel.js"],"sourcesContent":["var _excluded = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\", \"shape\", \"activeShape\"],\n  _excluded2 = [\"id\"],\n  _excluded3 = [\"stroke\", \"fill\", \"legendType\", \"hide\", \"isAnimationActive\", \"animationBegin\", \"animationDuration\", \"animationEasing\", \"nameKey\", \"lastShapeType\", \"id\"],\n  _excluded4 = [\"id\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { useCallback, useMemo, useRef, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport { clsx } from 'clsx';\nimport { selectActiveIndex } from '../state/selectors/selectors';\nimport { useAppSelector } from '../state/hooks';\nimport { Layer } from '../container/Layer';\nimport { CartesianLabelListContextProvider, LabelListFromLabelProp } from '../component/LabelList';\nimport { getPercentValue, interpolate } from '../util/DataUtils';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { FunnelTrapezoid } from '../util/FunnelUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { selectFunnelTrapezoids } from '../state/selectors/funnelSelectors';\nimport { findAllByType } from '../util/ReactUtils';\nimport { Cell } from '../component/Cell';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { usePlotArea } from '../hooks';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\n\n/**\n * Internal props, combination of external props + defaultProps + private Recharts state\n */\n\n/**\n * External props, intended for end users to fill in\n */\n\nvar SetFunnelTooltipEntrySettings = /*#__PURE__*/React.memo(_ref => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    tooltipType,\n    data,\n    trapezoids,\n    id\n  } = _ref;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: data,\n    getPosition: index => {\n      var _trapezoids$Number;\n      return (_trapezoids$Number = trapezoids[Number(index)]) === null || _trapezoids$Number === void 0 ? void 0 : _trapezoids$Number.tooltipPosition;\n    },\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      name,\n      nameKey,\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit: '',\n      // Funnel does not have unit, why?\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\nfunction FunnelLabelListProvider(_ref2) {\n  var {\n    showLabels,\n    trapezoids,\n    children\n  } = _ref2;\n  var labelListEntries = useMemo(() => {\n    if (!showLabels) {\n      return undefined;\n    }\n    return trapezoids === null || trapezoids === void 0 ? void 0 : trapezoids.map(entry => {\n      var viewBox = entry.labelViewBox;\n      return _objectSpread(_objectSpread({}, viewBox), {}, {\n        value: entry.name,\n        payload: entry.payload,\n        parentViewBox: entry.parentViewBox,\n        viewBox,\n        fill: entry.fill\n      });\n    });\n  }, [showLabels, trapezoids]);\n  return /*#__PURE__*/React.createElement(CartesianLabelListContextProvider, {\n    value: labelListEntries\n  }, children);\n}\nfunction FunnelTrapezoids(props) {\n  var {\n    trapezoids,\n    allOtherFunnelProps\n  } = props;\n  var activeItemIndex = useAppSelector(state => selectActiveIndex(state, 'item', state.tooltip.settings.trigger, undefined));\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      shape,\n      activeShape\n    } = allOtherFunnelProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherFunnelProps, _excluded);\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, allOtherFunnelProps.dataKey, allOtherFunnelProps.id);\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, allOtherFunnelProps.dataKey, allOtherFunnelProps.id);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, trapezoids.map((entry, i) => {\n    var isActiveIndex = Boolean(activeShape) && activeItemIndex === String(i);\n    var trapezoidOptions = isActiveIndex ? activeShape : shape;\n    var _entry$option$isActiv = _objectSpread(_objectSpread({}, entry), {}, {\n        option: trapezoidOptions,\n        isActive: isActiveIndex,\n        stroke: entry.stroke\n      }),\n      {\n        id\n      } = _entry$option$isActiv,\n      trapezoidProps = _objectWithoutProperties(_entry$option$isActiv, _excluded2);\n    return /*#__PURE__*/React.createElement(Layer, _extends({\n      key: \"trapezoid-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.name, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value),\n      className: \"recharts-funnel-trapezoid\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error the types need a bit of attention\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error the types need a bit of attention\n      ,\n      onClick: onClickFromContext(entry, i)\n    }), /*#__PURE__*/React.createElement(FunnelTrapezoid, trapezoidProps));\n  }));\n}\nfunction TrapezoidsWithAnimation(_ref3) {\n  var {\n    previousTrapezoidsRef,\n    props\n  } = _ref3;\n  var {\n    trapezoids,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevTrapezoids = previousTrapezoidsRef.current;\n  var [isAnimating, setIsAnimating] = useState(false);\n  var showLabels = !isAnimating;\n  var animationId = useAnimationId(trapezoids, 'recharts-funnel-');\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(FunnelLabelListProvider, {\n    showLabels: showLabels,\n    trapezoids: trapezoids\n  }, /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    animationId: animationId,\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    key: animationId,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, t => {\n    var stepData = t === 1 ? trapezoids : trapezoids.map((entry, index) => {\n      var prev = prevTrapezoids && prevTrapezoids[index];\n      if (prev) {\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolate(prev.x, entry.x, t),\n          y: interpolate(prev.y, entry.y, t),\n          upperWidth: interpolate(prev.upperWidth, entry.upperWidth, t),\n          lowerWidth: interpolate(prev.lowerWidth, entry.lowerWidth, t),\n          height: interpolate(prev.height, entry.height, t)\n        });\n      }\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        x: interpolate(entry.x + entry.upperWidth / 2, entry.x, t),\n        y: interpolate(entry.y + entry.height / 2, entry.y, t),\n        upperWidth: interpolate(0, entry.upperWidth, t),\n        lowerWidth: interpolate(0, entry.lowerWidth, t),\n        height: interpolate(0, entry.height, t)\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousTrapezoidsRef.current = stepData;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(FunnelTrapezoids, {\n      trapezoids: stepData,\n      allOtherFunnelProps: props\n    }));\n  }), /*#__PURE__*/React.createElement(LabelListFromLabelProp, {\n    label: props.label\n  }), props.children);\n}\nfunction RenderTrapezoids(props) {\n  var previousTrapezoidsRef = useRef(undefined);\n  return /*#__PURE__*/React.createElement(TrapezoidsWithAnimation, {\n    props: props,\n    previousTrapezoidsRef: previousTrapezoidsRef\n  });\n}\nvar getRealWidthHeight = (customWidth, offset) => {\n  var {\n    width,\n    height,\n    left,\n    top\n  } = offset;\n  var realWidth = getPercentValue(customWidth, width, width);\n  return {\n    realWidth,\n    realHeight: height,\n    offsetX: left,\n    offsetY: top\n  };\n};\nexport var defaultFunnelProps = {\n  animationBegin: 400,\n  animationDuration: 1500,\n  animationEasing: 'ease',\n  fill: '#808080',\n  hide: false,\n  isAnimationActive: 'auto',\n  lastShapeType: 'triangle',\n  legendType: 'rect',\n  nameKey: 'name',\n  reversed: false,\n  stroke: '#fff'\n};\nfunction FunnelImpl(props) {\n  var plotArea = usePlotArea();\n  var {\n      stroke,\n      fill,\n      legendType,\n      hide,\n      isAnimationActive,\n      animationBegin,\n      animationDuration,\n      animationEasing,\n      nameKey,\n      lastShapeType,\n      id\n    } = props,\n    everythingElse = _objectWithoutProperties(props, _excluded3);\n  var presentationProps = svgPropertiesNoEvents(props);\n  var cells = findAllByType(props.children, Cell);\n  var funnelSettings = useMemo(() => ({\n    dataKey: props.dataKey,\n    nameKey,\n    data: props.data,\n    tooltipType: props.tooltipType,\n    lastShapeType,\n    reversed: props.reversed,\n    customWidth: props.width,\n    cells,\n    presentationProps,\n    id\n  }), [props.dataKey, nameKey, props.data, props.tooltipType, lastShapeType, props.reversed, props.width, cells, presentationProps, id]);\n  var trapezoids = useAppSelector(state => selectFunnelTrapezoids(state, funnelSettings));\n  if (hide || !trapezoids || !trapezoids.length || !plotArea) {\n    return null;\n  }\n  var {\n    height,\n    width\n  } = plotArea;\n  var layerClass = clsx('recharts-trapezoids', props.className);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetFunnelTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    nameKey: props.nameKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    hide: props.hide,\n    tooltipType: props.tooltipType,\n    data: props.data,\n    trapezoids: trapezoids,\n    id: id\n  }), /*#__PURE__*/React.createElement(Layer, {\n    className: layerClass\n  }, /*#__PURE__*/React.createElement(RenderTrapezoids, _extends({}, everythingElse, {\n    id: id,\n    stroke: stroke,\n    fill: fill,\n    nameKey: nameKey,\n    lastShapeType: lastShapeType,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive,\n    hide: hide,\n    legendType: legendType,\n    height: height,\n    width: width,\n    trapezoids: trapezoids\n  }))));\n}\nexport function computeFunnelTrapezoids(_ref4) {\n  var {\n    dataKey,\n    nameKey,\n    displayedData,\n    tooltipType,\n    lastShapeType,\n    reversed,\n    offset,\n    customWidth,\n    graphicalItemId\n  } = _ref4;\n  var {\n    realHeight,\n    realWidth,\n    offsetX,\n    offsetY\n  } = getRealWidthHeight(customWidth, offset);\n  var values = displayedData.map(entry => {\n    var val = getValueByDataKey(entry, dataKey, 0);\n    return typeof val === 'number' ? val : 0;\n  });\n  var maxValue = Math.max.apply(null, values);\n  var len = displayedData.length;\n  var rowHeight = realHeight / len;\n  var parentViewBox = {\n    x: offset.left,\n    y: offset.top,\n    width: offset.width,\n    height: offset.height\n  };\n  var trapezoids = displayedData.map((entry, i) => {\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var rawVal = getValueByDataKey(entry, dataKey, 0);\n    var name = String(getValueByDataKey(entry, nameKey, i));\n    var val = rawVal;\n    var nextVal;\n    if (i !== len - 1) {\n      var nextDataValue = getValueByDataKey(displayedData[i + 1], dataKey, 0);\n      if (typeof nextDataValue === 'number') {\n        nextVal = nextDataValue;\n      } else if (Array.isArray(nextDataValue)) {\n        var [first, second] = nextDataValue;\n        if (typeof first === 'number') {\n          val = first;\n        }\n        if (typeof second === 'number') {\n          nextVal = second;\n        }\n      }\n    } else if (rawVal instanceof Array && rawVal.length === 2) {\n      var [_first, _second] = rawVal;\n      if (typeof _first === 'number') {\n        val = _first;\n      }\n      if (typeof _second === 'number') {\n        nextVal = _second;\n      }\n    } else if (lastShapeType === 'rectangle') {\n      nextVal = val;\n    } else {\n      nextVal = 0;\n    }\n\n    // @ts-expect-error this is a problem if we have ranged values because `val` can be an array\n    var x = (maxValue - val) * realWidth / (2 * maxValue) + offsetX;\n    var y = rowHeight * i + offsetY;\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    var upperWidth = val / maxValue * realWidth;\n    // @ts-expect-error nextVal could be an array\n    var lowerWidth = nextVal / maxValue * realWidth;\n    var tooltipPayload = [{\n      name,\n      value: val,\n      payload: entry,\n      dataKey,\n      type: tooltipType,\n      graphicalItemId\n    }];\n    var tooltipPosition = {\n      x: x + upperWidth / 2,\n      y: y + rowHeight / 2\n    };\n    var trapezoidViewBox = {\n      x,\n      y,\n      upperWidth,\n      lowerWidth,\n      width: Math.max(upperWidth, lowerWidth),\n      height: rowHeight\n    };\n    return _objectSpread(_objectSpread(_objectSpread({}, trapezoidViewBox), {}, {\n      name,\n      val,\n      tooltipPayload,\n      tooltipPosition\n    }, entry != null && typeof entry === 'object' ? omit(entry, ['width']) : {}), {}, {\n      payload: entry,\n      parentViewBox,\n      labelViewBox: trapezoidViewBox\n    });\n  });\n  if (reversed) {\n    trapezoids = trapezoids.map((entry, index) => {\n      var reversedViewBox = {\n        x: entry.x - (entry.lowerWidth - entry.upperWidth) / 2,\n        y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight,\n        upperWidth: entry.lowerWidth,\n        lowerWidth: entry.upperWidth,\n        width: Math.max(entry.lowerWidth, entry.upperWidth),\n        height: rowHeight\n      };\n      return _objectSpread(_objectSpread(_objectSpread({}, entry), reversedViewBox), {}, {\n        tooltipPosition: _objectSpread(_objectSpread({}, entry.tooltipPosition), {}, {\n          y: entry.y - index * rowHeight + (len - 1 - index) * rowHeight + rowHeight / 2\n        }),\n        labelViewBox: reversedViewBox\n      });\n    });\n  }\n  return trapezoids;\n}\n\n/**\n * @consumes CartesianViewBoxContext\n * @provides LabelListContext\n * @provides CellReader\n */\nexport function Funnel(outsideProps) {\n  var _resolveDefaultProps = resolveDefaultProps(outsideProps, defaultFunnelProps),\n    {\n      id: externalId\n    } = _resolveDefaultProps,\n    props = _objectWithoutProperties(_resolveDefaultProps, _excluded4);\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"funnel\"\n  }, id => /*#__PURE__*/React.createElement(FunnelImpl, _extends({}, props, {\n    id: id\n  })));\n}\nFunnel.displayName = 'Funnel';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}