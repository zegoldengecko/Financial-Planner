{"ast":null,"code":"// Function to log a user in\nexport async function login({\n  username,\n  password,\n  setError,\n  navigate\n}) {\n  // username or password not entered\n  if (!username || !password) {\n    setError(\"Please enter both username and password\");\n    return;\n  }\n  try {\n    // Call backend API\n    const response = await fetch(\"http://localhost:5000/api/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n\n    // If login fails\n    if (!response.ok) {\n      setError(data.message || \"Login failed\");\n      return;\n    }\n\n    // Clear error messages\n    setError(\"\");\n\n    // Navigate to planner page\n    navigate(\"/planner\", {\n      state: {\n        user: data.user\n      }\n    });\n  } catch (error) {\n    console.error(\"Error calling backend:\", error);\n    setError(\"Network error. Please try again.\");\n  }\n}","map":{"version":3,"names":["login","username","password","setError","navigate","response","fetch","method","headers","credentials","body","JSON","stringify","data","json","ok","message","state","user","error","console"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/src/utils/homeHelpers.js"],"sourcesContent":["// Function to log a user in\r\nexport async function login({ username, password, setError, navigate }) {\r\n    // username or password not entered\r\n    if (!username || !password) {\r\n      setError(\"Please enter both username and password\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Call backend API\r\n      const response = await fetch(\"http://localhost:5000/api/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        credentials: \"include\", \r\n        body: JSON.stringify({ username, password })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      // If login fails\r\n      if (!response.ok) {\r\n        setError(data.message || \"Login failed\");\r\n        return;\r\n      }\r\n\r\n      // Clear error messages\r\n      setError(\"\");\r\n\r\n      // Navigate to planner page\r\n      navigate(\"/planner\", { state: { user: data.user } });\r\n    } catch (error) {\r\n      console.error(\"Error calling backend:\", error);\r\n      setError(\"Network error. Please try again.\");\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,KAAKA,CAAC;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACpE;EACA,IAAI,CAACH,QAAQ,IAAI,CAACC,QAAQ,EAAE;IAC1BC,QAAQ,CAAC,yCAAyC,CAAC;IACnD;EACF;EAEA,IAAI;IACF;IACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;MAC9DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,WAAW,EAAE,SAAS;MACtBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEX,QAAQ;QAAEC;MAAS,CAAC;IAC7C,CAAC,CAAC;IAEF,MAAMW,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;;IAElC;IACA,IAAI,CAACT,QAAQ,CAACU,EAAE,EAAE;MAChBZ,QAAQ,CAACU,IAAI,CAACG,OAAO,IAAI,cAAc,CAAC;MACxC;IACF;;IAEA;IACAb,QAAQ,CAAC,EAAE,CAAC;;IAEZ;IACAC,QAAQ,CAAC,UAAU,EAAE;MAAEa,KAAK,EAAE;QAAEC,IAAI,EAAEL,IAAI,CAACK;MAAK;IAAE,CAAC,CAAC;EACtD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9ChB,QAAQ,CAAC,kCAAkC,CAAC;EAC9C;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}