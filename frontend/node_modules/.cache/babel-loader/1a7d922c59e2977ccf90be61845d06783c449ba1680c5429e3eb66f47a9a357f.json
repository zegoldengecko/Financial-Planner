{"ast":null,"code":"var _excluded = [\"width\", \"height\", \"className\", \"style\", \"children\", \"type\"];\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nimport * as React from 'react';\nimport { PureComponent, useCallback, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport get from 'es-toolkit/compat/get';\nimport { Layer } from '../container/Layer';\nimport { Surface } from '../container/Surface';\nimport { Polygon } from '../shape/Polygon';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { COLOR_PANEL } from '../util/Constants';\nimport { isNan, noop, uniqueId } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { ReportChartMargin, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { CSSTransitionAnimate } from '../animation/CSSTransitionAnimate';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar NODE_VALUE_KEY = 'value';\n\n/**\n * This is what end users defines as `data` on Treemap.\n */\n\n/**\n * This is what is returned from `squarify`, the final treemap data structure\n * that gets rendered and is stored in\n */\n\nfunction isTreemapNode(value) {\n  return value != null && typeof value === 'object' && 'x' in value && 'y' in value && 'width' in value && 'height' in value && typeof value.x === 'number' && typeof value.y === 'number' && typeof value.width === 'number' && typeof value.height === 'number';\n}\nexport var treemapPayloadSearcher = (data, activeIndex) => {\n  if (!data || !activeIndex) {\n    return undefined;\n  }\n  return get(data, activeIndex);\n};\nexport var addToTreemapNodeIndex = function addToTreemapNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar options = {\n  chartName: 'Treemap',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: treemapPayloadSearcher,\n  eventEmitter: undefined\n};\nexport var computeNode = _ref => {\n  var {\n    depth,\n    node,\n    index,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex\n  } = _ref;\n  var currentTooltipIndex = depth === 0 ? '' : addToTreemapNodeIndex(index, nestedActiveTooltipIndex);\n  var {\n    children\n  } = node;\n  var childDepth = depth + 1;\n  var computedChildren = children && children.length ? children.map((child, i) => computeNode({\n    depth: childDepth,\n    node: child,\n    index: i,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex: currentTooltipIndex\n  })) : null;\n  var nodeValue;\n  if (computedChildren && computedChildren.length) {\n    nodeValue = computedChildren.reduce((result, child) => result + child.value, 0);\n  } else {\n    // TODO need to verify dataKey\n    var rawNodeValue = node[dataKey];\n    var numericValue = typeof rawNodeValue === 'number' ? rawNodeValue : 0;\n    nodeValue = isNan(numericValue) || numericValue <= 0 ? 0 : numericValue;\n  }\n  return _objectSpread(_objectSpread({}, node), {}, {\n    children: computedChildren,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    name: getValueByDataKey(node, nameKey, ''),\n    [NODE_VALUE_KEY]: nodeValue,\n    depth,\n    index,\n    tooltipIndex: currentTooltipIndex\n  });\n};\nvar filterRect = node => ({\n  x: node.x,\n  y: node.y,\n  width: node.width,\n  height: node.height\n});\n// Compute the area for each child based on value & scale.\nvar getAreaOfChildren = (children, areaValueRatio) => {\n  var ratio = areaValueRatio < 0 ? 0 : areaValueRatio;\n  return children.map(child => {\n    var area = child[NODE_VALUE_KEY] * ratio;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      area: isNan(area) || area <= 0 ? 0 : area\n    });\n  });\n};\n\n// Computes the score for the specified row, as the worst aspect ratio.\nvar getWorstScore = (row, parentSize, aspectRatio) => {\n  var parentArea = parentSize * parentSize;\n  var rowArea = row.area * row.area;\n  var {\n    min,\n    max\n  } = row.reduce((result, child) => ({\n    min: Math.min(result.min, child.area),\n    max: Math.max(result.max, child.area)\n  }), {\n    min: Infinity,\n    max: 0\n  });\n  return rowArea ? Math.max(parentArea * max * aspectRatio / rowArea, rowArea / (parentArea * min * aspectRatio)) : Infinity;\n};\nvar horizontalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowHeight = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowHeight > parentRect.height) {\n    rowHeight = parentRect.height;\n  }\n  var curX = parentRect.x;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = curX;\n    child.y = parentRect.y;\n    child.height = rowHeight;\n    child.width = Math.min(rowHeight ? Math.round(child.area / rowHeight) : 0, parentRect.x + parentRect.width - curX);\n    curX += child.width;\n  }\n  // add the remain x to the last one of row\n  if (child != null) {\n    child.width += parentRect.x + parentRect.width - curX;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    y: parentRect.y + rowHeight,\n    height: parentRect.height - rowHeight\n  });\n};\nvar verticalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowWidth = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowWidth > parentRect.width) {\n    rowWidth = parentRect.width;\n  }\n  var curY = parentRect.y;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = parentRect.x;\n    child.y = curY;\n    child.width = rowWidth;\n    child.height = Math.min(rowWidth ? Math.round(child.area / rowWidth) : 0, parentRect.y + parentRect.height - curY);\n    curY += child.height;\n  }\n  if (child) {\n    child.height += parentRect.y + parentRect.height - curY;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    x: parentRect.x + rowWidth,\n    width: parentRect.width - rowWidth\n  });\n};\nvar position = (row, parentSize, parentRect, isFlush) => {\n  if (parentSize === parentRect.width) {\n    return horizontalPosition(row, parentSize, parentRect, isFlush);\n  }\n  return verticalPosition(row, parentSize, parentRect, isFlush);\n};\n// Recursively arranges the specified node's children into squarified rows.\nvar squarify = (node, aspectRatio) => {\n  var {\n    children\n  } = node;\n  if (children && children.length) {\n    var rect = filterRect(node);\n    // @ts-expect-error we can't create an array with static property on a single line so typescript will complain.\n    var row = [];\n    var best = Infinity; // the best row score so far\n    var child, score; // the current row score\n    var size = Math.min(rect.width, rect.height); // initial orientation\n    var scaleChildren = getAreaOfChildren(children, rect.width * rect.height / node[NODE_VALUE_KEY]);\n    var tempChildren = scaleChildren.slice();\n\n    // why are we setting static properties on an array?\n    row.area = 0;\n    while (tempChildren.length > 0) {\n      [child] = tempChildren;\n      if (child == null) {\n        continue;\n      }\n      // row first\n      row.push(child);\n      row.area += child.area;\n      score = getWorstScore(row, size, aspectRatio);\n      if (score <= best) {\n        // continue with this orientation\n        tempChildren.shift();\n        best = score;\n      } else {\n        var _row$pop$area, _row$pop;\n        // abort, and try a different orientation\n        row.area -= (_row$pop$area = (_row$pop = row.pop()) === null || _row$pop === void 0 ? void 0 : _row$pop.area) !== null && _row$pop$area !== void 0 ? _row$pop$area : 0;\n        rect = position(row, size, rect, false);\n        size = Math.min(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n    }\n    if (row.length) {\n      rect = position(row, size, rect, true);\n      row.length = row.area = 0;\n    }\n    return _objectSpread(_objectSpread({}, node), {}, {\n      children: scaleChildren.map(c => squarify(c, aspectRatio))\n    });\n  }\n  return node;\n};\nexport var defaultTreeMapProps = {\n  aspectRatio: 0.5 * (1 + Math.sqrt(5)),\n  dataKey: 'value',\n  nameKey: 'name',\n  type: 'flat',\n  isAnimationActive: 'auto',\n  isUpdateAnimationActive: 'auto',\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'linear'\n};\nvar defaultState = {\n  isAnimationFinished: false,\n  formatRoot: null,\n  currentRoot: undefined,\n  nestIndex: [],\n  prevAspectRatio: defaultTreeMapProps.aspectRatio,\n  prevDataKey: defaultTreeMapProps.dataKey\n};\nfunction ContentItem(_ref2) {\n  var {\n    content,\n    nodeProps,\n    type,\n    colorPanel,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = _ref2;\n  if (/*#__PURE__*/React.isValidElement(content)) {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, /*#__PURE__*/React.cloneElement(content, nodeProps));\n  }\n  if (typeof content === 'function') {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, content(nodeProps));\n  }\n  // optimize default shape\n  var {\n    x,\n    y,\n    width,\n    height,\n    index\n  } = nodeProps;\n  var arrow = null;\n  if (width > 10 && height > 10 && nodeProps.children && type === 'nest') {\n    arrow = /*#__PURE__*/React.createElement(Polygon, {\n      points: [{\n        x: x + 2,\n        y: y + height / 2\n      }, {\n        x: x + 6,\n        y: y + height / 2 + 3\n      }, {\n        x: x + 2,\n        y: y + height / 2 + 6\n      }]\n    });\n  }\n  var text = null;\n  var nameSize = getStringSize(nodeProps.name);\n  if (width > 20 && height > 20 && nameSize.width < width && nameSize.height < height) {\n    text = /*#__PURE__*/React.createElement(\"text\", {\n      x: x + 8,\n      y: y + height / 2 + 7,\n      fontSize: 14\n    }, nodeProps.name);\n  }\n  var colors = colorPanel || COLOR_PANEL;\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(Rectangle, _extends({\n    fill: nodeProps.depth < 2 ? colors[index % colors.length] : 'rgba(255,255,255,0)',\n    stroke: \"#fff\"\n  }, omit(nodeProps, ['children']), {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    \"data-recharts-item-index\": nodeProps.tooltipIndex\n  })), arrow, text);\n}\nfunction ContentItemWithEvents(props) {\n  var dispatch = useAppDispatch();\n  var activeCoordinate = {\n    x: props.nodeProps.x + props.nodeProps.width / 2,\n    y: props.nodeProps.y + props.nodeProps.height / 2\n  };\n  var onMouseEnter = () => {\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  var onMouseLeave = () => {\n    // clearing state on mouseLeaveItem causes re-rendering issues\n    // we don't actually want to do this for TreeMap - we clear state when we leave the entire chart instead\n  };\n  var onClick = () => {\n    dispatch(setActiveClickItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  return /*#__PURE__*/React.createElement(ContentItem, _extends({}, props, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  }));\n}\nvar SetTreemapTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    fill,\n    currentRoot,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: currentRoot,\n    getPosition: noop,\n    // TODO I think Treemap has the capability of computing positions and supporting defaultIndex? Except it doesn't yet\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      dataKey,\n      nameKey,\n      name: undefined,\n      // Each TreemapNode has its own name\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\n\n// Why is margin not a treemap prop? No clue. Probably it should be\nvar defaultTreemapMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nfunction TreemapItem(_ref4) {\n  var {\n    content,\n    nodeProps,\n    isLeaf,\n    treemapProps,\n    onNestClick\n  } = _ref4;\n  var {\n    id,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isUpdateAnimationActive,\n    type,\n    colorPanel,\n    dataKey,\n    onAnimationStart,\n    onAnimationEnd,\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = treemapProps;\n  var {\n    width,\n    height,\n    x,\n    y\n  } = nodeProps;\n  var translateX = -x - width;\n  var translateY = 0;\n  var onMouseEnter = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseEnterFromProps === 'function') {\n      onMouseEnterFromProps(nodeProps, e);\n    }\n  };\n  var onMouseLeave = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseLeaveFromProps === 'function') {\n      onMouseLeaveFromProps(nodeProps, e);\n    }\n  };\n  var onClick = () => {\n    if (type === 'nest') {\n      onNestClick(nodeProps);\n    }\n    if ((isLeaf || type === 'nest') && typeof onItemClickFromProps === 'function') {\n      onItemClickFromProps(nodeProps);\n    }\n  };\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(CSSTransitionAnimate, {\n    animationId: \"treemap-\".concat(nodeProps.tooltipIndex),\n    from: \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\"),\n    to: \"translate(0, 0)\",\n    attributeName: \"transform\",\n    begin: animationBegin,\n    easing: animationEasing,\n    isActive: isAnimationActive,\n    duration: animationDuration,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, style => /*#__PURE__*/React.createElement(Layer, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      transformOrigin: \"\".concat(x, \" \").concat(y)\n    })\n  }, /*#__PURE__*/React.createElement(ContentItemWithEvents, {\n    id: id,\n    content: content,\n    dataKey: dataKey,\n    nodeProps: _objectSpread(_objectSpread({}, nodeProps), {}, {\n      isAnimationActive,\n      isUpdateAnimationActive: !isUpdateAnimationActive,\n      width,\n      height,\n      x,\n      y\n    }),\n    type: type,\n    colorPanel: colorPanel\n  })));\n}\nclass TreemapWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", _objectSpread({}, defaultState));\n    _defineProperty(this, \"handleClick\", node => {\n      var {\n        onClick,\n        type\n      } = this.props;\n      if (type === 'nest' && node.children) {\n        var {\n          width,\n          height,\n          dataKey,\n          nameKey,\n          aspectRatio\n        } = this.props;\n        var root = computeNode({\n          depth: 0,\n          node: _objectSpread(_objectSpread({}, node), {}, {\n            x: 0,\n            y: 0,\n            width,\n            height\n          }),\n          index: 0,\n          dataKey,\n          nameKey,\n          // with Treemap nesting, should this continue nesting the index or start from empty string?\n          nestedActiveTooltipIndex: node.tooltipIndex\n        });\n        var formatRoot = squarify(root, aspectRatio);\n        var {\n          nestIndex\n        } = this.state;\n        nestIndex.push(node);\n        this.setState({\n          formatRoot,\n          currentRoot: root,\n          nestIndex\n        });\n      }\n      if (onClick) {\n        onClick(node);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var touchEvent = e.touches[0];\n      if (touchEvent == null) {\n        return;\n      }\n      var target = document.elementFromPoint(touchEvent.clientX, touchEvent.clientY);\n      if (!target || !target.getAttribute || this.state.formatRoot == null) {\n        return;\n      }\n      var itemIndex = target.getAttribute('data-recharts-item-index');\n      var activeNode = treemapPayloadSearcher(this.state.formatRoot, itemIndex);\n      if (!isTreemapNode(activeNode)) {\n        return;\n      }\n      var {\n        dataKey,\n        dispatch\n      } = this.props;\n      var activeCoordinate = {\n        x: activeNode.x + activeNode.width / 2,\n        y: activeNode.y + activeNode.height / 2\n      };\n\n      // Treemap does not support onTouchMove prop, but it could\n      // onTouchMove?.(activeNode, Number(itemIndex), e);\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex: itemIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: this.props.id\n      }));\n    });\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.prevData || nextProps.type !== prevState.prevType || nextProps.width !== prevState.prevWidth || nextProps.height !== prevState.prevHeight || nextProps.dataKey !== prevState.prevDataKey || nextProps.aspectRatio !== prevState.prevAspectRatio) {\n      var root = computeNode({\n        depth: 0,\n        // @ts-expect-error missing properties\n        node: {\n          children: nextProps.data,\n          x: 0,\n          y: 0,\n          width: nextProps.width,\n          height: nextProps.height\n        },\n        index: 0,\n        dataKey: nextProps.dataKey,\n        nameKey: nextProps.nameKey\n      });\n      var formatRoot = squarify(root, nextProps.aspectRatio);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        formatRoot,\n        currentRoot: root,\n        nestIndex: [root],\n        prevAspectRatio: nextProps.aspectRatio,\n        prevData: nextProps.data,\n        prevWidth: nextProps.width,\n        prevHeight: nextProps.height,\n        prevDataKey: nextProps.dataKey,\n        prevType: nextProps.type\n      });\n    }\n    return null;\n  }\n  handleNestIndex(node, i) {\n    var {\n      nestIndex\n    } = this.state;\n    var {\n      width,\n      height,\n      dataKey,\n      nameKey,\n      aspectRatio\n    } = this.props;\n    var root = computeNode({\n      depth: 0,\n      node: _objectSpread(_objectSpread({}, node), {}, {\n        x: 0,\n        y: 0,\n        width,\n        height\n      }),\n      index: 0,\n      dataKey,\n      nameKey,\n      // with Treemap nesting, should this continue nesting the index or start from empty string?\n      nestedActiveTooltipIndex: node.tooltipIndex\n    });\n    var formatRoot = squarify(root, aspectRatio);\n    nestIndex = nestIndex.slice(0, i + 1);\n    this.setState({\n      formatRoot,\n      currentRoot: node,\n      nestIndex\n    });\n  }\n  renderNode(root, node) {\n    var {\n      content,\n      type\n    } = this.props;\n    var nodeProps = _objectSpread(_objectSpread(_objectSpread({}, svgPropertiesNoEvents(this.props)), node), {}, {\n      root\n    });\n    var isLeaf = !node.children || !node.children.length;\n    var {\n      currentRoot\n    } = this.state;\n    var isCurrentRootChild = ((currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.children) || []).filter(item => item.depth === node.depth && item.name === node.name);\n    if (!isCurrentRootChild.length && root.depth && type === 'nest') {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      key: \"recharts-treemap-node-\".concat(nodeProps.x, \"-\").concat(nodeProps.y, \"-\").concat(nodeProps.name),\n      className: \"recharts-treemap-depth-\".concat(node.depth)\n    }, /*#__PURE__*/React.createElement(TreemapItem, {\n      isLeaf: isLeaf,\n      content: content,\n      nodeProps: nodeProps,\n      treemapProps: this.props,\n      onNestClick: this.handleClick\n    }), node.children && node.children.length ? node.children.map(child => this.renderNode(node, child)) : null);\n  }\n  renderAllNodes() {\n    var {\n      formatRoot\n    } = this.state;\n    if (!formatRoot) {\n      return null;\n    }\n    return this.renderNode(formatRoot, formatRoot);\n  }\n\n  // render nest treemap\n  renderNestIndex() {\n    var {\n      nameKey,\n      nestIndexContent\n    } = this.props;\n    var {\n      nestIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recharts-treemap-nest-index-wrapper\",\n      style: {\n        marginTop: '8px',\n        textAlign: 'center'\n      }\n    }, nestIndex.map((item, i) => {\n      // TODO need to verify nameKey type\n      var rawName = get(item, nameKey, 'root');\n      var name = typeof rawName === 'string' ? rawName : 'root';\n      var content;\n      if (/*#__PURE__*/React.isValidElement(nestIndexContent)) {\n        // the cloned content is ignored at all times - let's remove it?\n        content = /*#__PURE__*/React.cloneElement(nestIndexContent, item, i);\n      }\n      if (typeof nestIndexContent === 'function') {\n        content = nestIndexContent(item, i);\n      } else {\n        content = name;\n      }\n      return (/*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", {\n          onClick: this.handleNestIndex.bind(this, item, i),\n          key: \"nest-index-\".concat(uniqueId()),\n          className: \"recharts-treemap-nest-index-box\",\n          style: {\n            cursor: 'pointer',\n            display: 'inline-block',\n            padding: '0 7px',\n            background: '#000',\n            color: '#fff',\n            marginRight: '3px'\n          }\n        }, content)\n      );\n    }));\n  }\n  render() {\n    var _this$props = this.props,\n      {\n        width,\n        height,\n        className,\n        style,\n        children,\n        type\n      } = _this$props,\n      others = _objectWithoutProperties(_this$props, _excluded);\n    var attrs = svgPropertiesNoEvents(others);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTreemapTooltipEntrySettings, {\n      dataKey: this.props.dataKey,\n      nameKey: this.props.nameKey,\n      stroke: this.props.stroke,\n      fill: this.props.fill,\n      currentRoot: this.state.currentRoot,\n      id: this.props.id\n    }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n      width: width,\n      height: type === 'nest' ? height - 30 : height,\n      onTouchMove: this.handleTouchMove\n    }), this.renderAllNodes(), children), type === 'nest' && this.renderNestIndex());\n  }\n}\n_defineProperty(TreemapWithState, \"displayName\", 'Treemap');\nfunction TreemapDispatchInject(props) {\n  var dispatch = useAppDispatch();\n  var width = useChartWidth();\n  var height = useChartHeight();\n  if (!isPositiveNumber(width) || !isPositiveNumber(height)) {\n    return null;\n  }\n  var {\n    id: externalId\n  } = props;\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"treemap\"\n  }, id => /*#__PURE__*/React.createElement(TreemapWithState, _extends({}, props, {\n    id: id,\n    width: width,\n    height: height,\n    dispatch: dispatch\n  })));\n}\n\n/**\n * The Treemap chart is used to visualize hierarchical data using nested rectangles.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\nexport function Treemap(outsideProps) {\n  var _props$className;\n  var props = resolveDefaultProps(outsideProps, defaultTreeMapProps);\n  var {\n    className,\n    style,\n    width,\n    height\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'Treemap'\n  }, /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultTreemapMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    dispatchTouchEvents: false,\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Treemap has a bug where it doesn't include strokeWidth in its dimension calculation\n     * which makes the actual chart exactly {strokeWidth} larger than asked for.\n     * It's not a huge deal usually, but it makes the responsive option cycle infinitely.\n     */,\n    responsive: false,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(TreemapDispatchInject, props))));\n}","map":{"version":3,"names":["_excluded","_objectWithoutProperties","e","t","o","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","_extends","assign","bind","arguments","apply","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","PureComponent","useCallback","useState","omit","get","Layer","Surface","Polygon","Rectangle","getValueByDataKey","COLOR_PANEL","isNan","noop","uniqueId","getStringSize","ReportChartMargin","useChartHeight","useChartWidth","TooltipPortalContext","RechartsWrapper","setActiveClickItemIndex","setActiveMouseOverItemIndex","SetTooltipEntrySettings","RechartsStoreProvider","useAppDispatch","isPositiveNumber","svgPropertiesNoEvents","CSSTransitionAnimate","resolveDefaultProps","RegisterGraphicalItemId","NODE_VALUE_KEY","isTreemapNode","x","y","width","height","treemapPayloadSearcher","data","activeIndex","undefined","addToTreemapNodeIndex","indexInChildrenArr","activeTooltipIndexSoFar","concat","options","chartName","defaultTooltipEventType","validateTooltipEventTypes","tooltipPayloadSearcher","eventEmitter","computeNode","_ref","depth","node","index","dataKey","nameKey","nestedActiveTooltipIndex","currentTooltipIndex","children","childDepth","computedChildren","map","child","nodeValue","reduce","result","rawNodeValue","numericValue","name","tooltipIndex","filterRect","getAreaOfChildren","areaValueRatio","ratio","area","getWorstScore","row","parentSize","aspectRatio","parentArea","rowArea","min","max","Math","Infinity","horizontalPosition","parentRect","isFlush","rowHeight","round","curX","len","verticalPosition","rowWidth","curY","position","squarify","rect","best","score","size","scaleChildren","tempChildren","slice","shift","_row$pop$area","_row$pop","pop","c","defaultTreeMapProps","sqrt","type","isAnimationActive","isUpdateAnimationActive","animationBegin","animationDuration","animationEasing","defaultState","isAnimationFinished","formatRoot","currentRoot","nestIndex","prevAspectRatio","prevDataKey","ContentItem","_ref2","content","nodeProps","colorPanel","onMouseEnter","onMouseLeave","onClick","isValidElement","createElement","cloneElement","arrow","points","text","nameSize","fontSize","colors","fill","stroke","ContentItemWithEvents","props","dispatch","activeCoordinate","activeDataKey","activeGraphicalItemId","id","SetTreemapTooltipEntrySettings","memo","_ref3","tooltipEntrySettings","dataDefinedOnItem","getPosition","settings","strokeWidth","hide","color","unit","graphicalItemId","defaultTreemapMargin","top","right","bottom","left","TreemapItem","_ref4","isLeaf","treemapProps","onNestClick","onAnimationStart","onAnimationEnd","onMouseEnterFromProps","onItemClickFromProps","onMouseLeaveFromProps","translateX","translateY","handleAnimationEnd","handleAnimationStart","animationId","from","to","attributeName","begin","easing","isActive","duration","style","transformOrigin","TreemapWithState","constructor","root","state","setState","touchEvent","touches","target","document","elementFromPoint","clientX","clientY","getAttribute","itemIndex","activeNode","getDerivedStateFromProps","nextProps","prevState","prevData","prevType","prevWidth","prevHeight","handleNestIndex","renderNode","isCurrentRootChild","item","key","className","handleClick","renderAllNodes","renderNestIndex","nestIndexContent","marginTop","textAlign","rawName","cursor","display","padding","background","marginRight","render","_this$props","others","attrs","Fragment","onTouchMove","handleTouchMove","TreemapDispatchInject","externalId","Treemap","outsideProps","_props$className","tooltipPortal","setTooltipPortal","preloadedState","reduxStoreName","margin","dispatchTouchEvents","responsive","ref","onMouseMove","onMouseDown","onMouseUp","onContextMenu","onDoubleClick","onTouchStart","onTouchEnd","Provider"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/node_modules/recharts/es6/chart/Treemap.js"],"sourcesContent":["var _excluded = [\"width\", \"height\", \"className\", \"style\", \"children\", \"type\"];\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { PureComponent, useCallback, useState } from 'react';\nimport omit from 'es-toolkit/compat/omit';\nimport get from 'es-toolkit/compat/get';\nimport { Layer } from '../container/Layer';\nimport { Surface } from '../container/Surface';\nimport { Polygon } from '../shape/Polygon';\nimport { Rectangle } from '../shape/Rectangle';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { COLOR_PANEL } from '../util/Constants';\nimport { isNan, noop, uniqueId } from '../util/DataUtils';\nimport { getStringSize } from '../util/DOMUtils';\nimport { ReportChartMargin, useChartHeight, useChartWidth } from '../context/chartLayoutContext';\nimport { TooltipPortalContext } from '../context/tooltipPortalContext';\nimport { RechartsWrapper } from './RechartsWrapper';\nimport { setActiveClickItemIndex, setActiveMouseOverItemIndex } from '../state/tooltipSlice';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { RechartsStoreProvider } from '../state/RechartsStoreProvider';\nimport { useAppDispatch } from '../state/hooks';\nimport { isPositiveNumber } from '../util/isWellBehavedNumber';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\nimport { CSSTransitionAnimate } from '../animation/CSSTransitionAnimate';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nvar NODE_VALUE_KEY = 'value';\n\n/**\n * This is what end users defines as `data` on Treemap.\n */\n\n/**\n * This is what is returned from `squarify`, the final treemap data structure\n * that gets rendered and is stored in\n */\n\nfunction isTreemapNode(value) {\n  return value != null && typeof value === 'object' && 'x' in value && 'y' in value && 'width' in value && 'height' in value && typeof value.x === 'number' && typeof value.y === 'number' && typeof value.width === 'number' && typeof value.height === 'number';\n}\nexport var treemapPayloadSearcher = (data, activeIndex) => {\n  if (!data || !activeIndex) {\n    return undefined;\n  }\n  return get(data, activeIndex);\n};\nexport var addToTreemapNodeIndex = function addToTreemapNodeIndex(indexInChildrenArr) {\n  var activeTooltipIndexSoFar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return \"\".concat(activeTooltipIndexSoFar, \"children[\").concat(indexInChildrenArr, \"]\");\n};\nvar options = {\n  chartName: 'Treemap',\n  defaultTooltipEventType: 'item',\n  validateTooltipEventTypes: ['item'],\n  tooltipPayloadSearcher: treemapPayloadSearcher,\n  eventEmitter: undefined\n};\nexport var computeNode = _ref => {\n  var {\n    depth,\n    node,\n    index,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex\n  } = _ref;\n  var currentTooltipIndex = depth === 0 ? '' : addToTreemapNodeIndex(index, nestedActiveTooltipIndex);\n  var {\n    children\n  } = node;\n  var childDepth = depth + 1;\n  var computedChildren = children && children.length ? children.map((child, i) => computeNode({\n    depth: childDepth,\n    node: child,\n    index: i,\n    dataKey,\n    nameKey,\n    nestedActiveTooltipIndex: currentTooltipIndex\n  })) : null;\n  var nodeValue;\n  if (computedChildren && computedChildren.length) {\n    nodeValue = computedChildren.reduce((result, child) => result + child.value, 0);\n  } else {\n    // TODO need to verify dataKey\n    var rawNodeValue = node[dataKey];\n    var numericValue = typeof rawNodeValue === 'number' ? rawNodeValue : 0;\n    nodeValue = isNan(numericValue) || numericValue <= 0 ? 0 : numericValue;\n  }\n  return _objectSpread(_objectSpread({}, node), {}, {\n    children: computedChildren,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    name: getValueByDataKey(node, nameKey, ''),\n    [NODE_VALUE_KEY]: nodeValue,\n    depth,\n    index,\n    tooltipIndex: currentTooltipIndex\n  });\n};\nvar filterRect = node => ({\n  x: node.x,\n  y: node.y,\n  width: node.width,\n  height: node.height\n});\n// Compute the area for each child based on value & scale.\nvar getAreaOfChildren = (children, areaValueRatio) => {\n  var ratio = areaValueRatio < 0 ? 0 : areaValueRatio;\n  return children.map(child => {\n    var area = child[NODE_VALUE_KEY] * ratio;\n    return _objectSpread(_objectSpread({}, child), {}, {\n      area: isNan(area) || area <= 0 ? 0 : area\n    });\n  });\n};\n\n// Computes the score for the specified row, as the worst aspect ratio.\nvar getWorstScore = (row, parentSize, aspectRatio) => {\n  var parentArea = parentSize * parentSize;\n  var rowArea = row.area * row.area;\n  var {\n    min,\n    max\n  } = row.reduce((result, child) => ({\n    min: Math.min(result.min, child.area),\n    max: Math.max(result.max, child.area)\n  }), {\n    min: Infinity,\n    max: 0\n  });\n  return rowArea ? Math.max(parentArea * max * aspectRatio / rowArea, rowArea / (parentArea * min * aspectRatio)) : Infinity;\n};\nvar horizontalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowHeight = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowHeight > parentRect.height) {\n    rowHeight = parentRect.height;\n  }\n  var curX = parentRect.x;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = curX;\n    child.y = parentRect.y;\n    child.height = rowHeight;\n    child.width = Math.min(rowHeight ? Math.round(child.area / rowHeight) : 0, parentRect.x + parentRect.width - curX);\n    curX += child.width;\n  }\n  // add the remain x to the last one of row\n  if (child != null) {\n    child.width += parentRect.x + parentRect.width - curX;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    y: parentRect.y + rowHeight,\n    height: parentRect.height - rowHeight\n  });\n};\nvar verticalPosition = (row, parentSize, parentRect, isFlush) => {\n  var rowWidth = parentSize ? Math.round(row.area / parentSize) : 0;\n  if (isFlush || rowWidth > parentRect.width) {\n    rowWidth = parentRect.width;\n  }\n  var curY = parentRect.y;\n  var child;\n  for (var i = 0, len = row.length; i < len; i++) {\n    child = row[i];\n    if (child == null) {\n      continue;\n    }\n    child.x = parentRect.x;\n    child.y = curY;\n    child.width = rowWidth;\n    child.height = Math.min(rowWidth ? Math.round(child.area / rowWidth) : 0, parentRect.y + parentRect.height - curY);\n    curY += child.height;\n  }\n  if (child) {\n    child.height += parentRect.y + parentRect.height - curY;\n  }\n  return _objectSpread(_objectSpread({}, parentRect), {}, {\n    x: parentRect.x + rowWidth,\n    width: parentRect.width - rowWidth\n  });\n};\nvar position = (row, parentSize, parentRect, isFlush) => {\n  if (parentSize === parentRect.width) {\n    return horizontalPosition(row, parentSize, parentRect, isFlush);\n  }\n  return verticalPosition(row, parentSize, parentRect, isFlush);\n};\n// Recursively arranges the specified node's children into squarified rows.\nvar squarify = (node, aspectRatio) => {\n  var {\n    children\n  } = node;\n  if (children && children.length) {\n    var rect = filterRect(node);\n    // @ts-expect-error we can't create an array with static property on a single line so typescript will complain.\n    var row = [];\n    var best = Infinity; // the best row score so far\n    var child, score; // the current row score\n    var size = Math.min(rect.width, rect.height); // initial orientation\n    var scaleChildren = getAreaOfChildren(children, rect.width * rect.height / node[NODE_VALUE_KEY]);\n    var tempChildren = scaleChildren.slice();\n\n    // why are we setting static properties on an array?\n    row.area = 0;\n    while (tempChildren.length > 0) {\n      [child] = tempChildren;\n      if (child == null) {\n        continue;\n      }\n      // row first\n      row.push(child);\n      row.area += child.area;\n      score = getWorstScore(row, size, aspectRatio);\n      if (score <= best) {\n        // continue with this orientation\n        tempChildren.shift();\n        best = score;\n      } else {\n        var _row$pop$area, _row$pop;\n        // abort, and try a different orientation\n        row.area -= (_row$pop$area = (_row$pop = row.pop()) === null || _row$pop === void 0 ? void 0 : _row$pop.area) !== null && _row$pop$area !== void 0 ? _row$pop$area : 0;\n        rect = position(row, size, rect, false);\n        size = Math.min(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n    }\n    if (row.length) {\n      rect = position(row, size, rect, true);\n      row.length = row.area = 0;\n    }\n    return _objectSpread(_objectSpread({}, node), {}, {\n      children: scaleChildren.map(c => squarify(c, aspectRatio))\n    });\n  }\n  return node;\n};\nexport var defaultTreeMapProps = {\n  aspectRatio: 0.5 * (1 + Math.sqrt(5)),\n  dataKey: 'value',\n  nameKey: 'name',\n  type: 'flat',\n  isAnimationActive: 'auto',\n  isUpdateAnimationActive: 'auto',\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'linear'\n};\nvar defaultState = {\n  isAnimationFinished: false,\n  formatRoot: null,\n  currentRoot: undefined,\n  nestIndex: [],\n  prevAspectRatio: defaultTreeMapProps.aspectRatio,\n  prevDataKey: defaultTreeMapProps.dataKey\n};\nfunction ContentItem(_ref2) {\n  var {\n    content,\n    nodeProps,\n    type,\n    colorPanel,\n    onMouseEnter,\n    onMouseLeave,\n    onClick\n  } = _ref2;\n  if (/*#__PURE__*/React.isValidElement(content)) {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, /*#__PURE__*/React.cloneElement(content, nodeProps));\n  }\n  if (typeof content === 'function') {\n    return /*#__PURE__*/React.createElement(Layer, {\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick\n    }, content(nodeProps));\n  }\n  // optimize default shape\n  var {\n    x,\n    y,\n    width,\n    height,\n    index\n  } = nodeProps;\n  var arrow = null;\n  if (width > 10 && height > 10 && nodeProps.children && type === 'nest') {\n    arrow = /*#__PURE__*/React.createElement(Polygon, {\n      points: [{\n        x: x + 2,\n        y: y + height / 2\n      }, {\n        x: x + 6,\n        y: y + height / 2 + 3\n      }, {\n        x: x + 2,\n        y: y + height / 2 + 6\n      }]\n    });\n  }\n  var text = null;\n  var nameSize = getStringSize(nodeProps.name);\n  if (width > 20 && height > 20 && nameSize.width < width && nameSize.height < height) {\n    text = /*#__PURE__*/React.createElement(\"text\", {\n      x: x + 8,\n      y: y + height / 2 + 7,\n      fontSize: 14\n    }, nodeProps.name);\n  }\n  var colors = colorPanel || COLOR_PANEL;\n  return /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(Rectangle, _extends({\n    fill: nodeProps.depth < 2 ? colors[index % colors.length] : 'rgba(255,255,255,0)',\n    stroke: \"#fff\"\n  }, omit(nodeProps, ['children']), {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    \"data-recharts-item-index\": nodeProps.tooltipIndex\n  })), arrow, text);\n}\nfunction ContentItemWithEvents(props) {\n  var dispatch = useAppDispatch();\n  var activeCoordinate = {\n    x: props.nodeProps.x + props.nodeProps.width / 2,\n    y: props.nodeProps.y + props.nodeProps.height / 2\n  };\n  var onMouseEnter = () => {\n    dispatch(setActiveMouseOverItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  var onMouseLeave = () => {\n    // clearing state on mouseLeaveItem causes re-rendering issues\n    // we don't actually want to do this for TreeMap - we clear state when we leave the entire chart instead\n  };\n  var onClick = () => {\n    dispatch(setActiveClickItemIndex({\n      activeIndex: props.nodeProps.tooltipIndex,\n      activeDataKey: props.dataKey,\n      activeCoordinate,\n      activeGraphicalItemId: props.id\n    }));\n  };\n  return /*#__PURE__*/React.createElement(ContentItem, _extends({}, props, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick\n  }));\n}\nvar SetTreemapTooltipEntrySettings = /*#__PURE__*/React.memo(_ref3 => {\n  var {\n    dataKey,\n    nameKey,\n    stroke,\n    fill,\n    currentRoot,\n    id\n  } = _ref3;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: currentRoot,\n    getPosition: noop,\n    // TODO I think Treemap has the capability of computing positions and supporting defaultIndex? Except it doesn't yet\n    settings: {\n      stroke,\n      strokeWidth: undefined,\n      fill,\n      dataKey,\n      nameKey,\n      name: undefined,\n      // Each TreemapNode has its own name\n      hide: false,\n      type: undefined,\n      color: fill,\n      unit: '',\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\n\n// Why is margin not a treemap prop? No clue. Probably it should be\nvar defaultTreemapMargin = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nfunction TreemapItem(_ref4) {\n  var {\n    content,\n    nodeProps,\n    isLeaf,\n    treemapProps,\n    onNestClick\n  } = _ref4;\n  var {\n    id,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isUpdateAnimationActive,\n    type,\n    colorPanel,\n    dataKey,\n    onAnimationStart,\n    onAnimationEnd,\n    onMouseEnter: onMouseEnterFromProps,\n    onClick: onItemClickFromProps,\n    onMouseLeave: onMouseLeaveFromProps\n  } = treemapProps;\n  var {\n    width,\n    height,\n    x,\n    y\n  } = nodeProps;\n  var translateX = -x - width;\n  var translateY = 0;\n  var onMouseEnter = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseEnterFromProps === 'function') {\n      onMouseEnterFromProps(nodeProps, e);\n    }\n  };\n  var onMouseLeave = e => {\n    if ((isLeaf || type === 'nest') && typeof onMouseLeaveFromProps === 'function') {\n      onMouseLeaveFromProps(nodeProps, e);\n    }\n  };\n  var onClick = () => {\n    if (type === 'nest') {\n      onNestClick(nodeProps);\n    }\n    if ((isLeaf || type === 'nest') && typeof onItemClickFromProps === 'function') {\n      onItemClickFromProps(nodeProps);\n    }\n  };\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(CSSTransitionAnimate, {\n    animationId: \"treemap-\".concat(nodeProps.tooltipIndex),\n    from: \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\"),\n    to: \"translate(0, 0)\",\n    attributeName: \"transform\",\n    begin: animationBegin,\n    easing: animationEasing,\n    isActive: isAnimationActive,\n    duration: animationDuration,\n    onAnimationStart: handleAnimationStart,\n    onAnimationEnd: handleAnimationEnd\n  }, style => /*#__PURE__*/React.createElement(Layer, {\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onClick: onClick,\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      transformOrigin: \"\".concat(x, \" \").concat(y)\n    })\n  }, /*#__PURE__*/React.createElement(ContentItemWithEvents, {\n    id: id,\n    content: content,\n    dataKey: dataKey,\n    nodeProps: _objectSpread(_objectSpread({}, nodeProps), {}, {\n      isAnimationActive,\n      isUpdateAnimationActive: !isUpdateAnimationActive,\n      width,\n      height,\n      x,\n      y\n    }),\n    type: type,\n    colorPanel: colorPanel\n  })));\n}\nclass TreemapWithState extends PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", _objectSpread({}, defaultState));\n    _defineProperty(this, \"handleClick\", node => {\n      var {\n        onClick,\n        type\n      } = this.props;\n      if (type === 'nest' && node.children) {\n        var {\n          width,\n          height,\n          dataKey,\n          nameKey,\n          aspectRatio\n        } = this.props;\n        var root = computeNode({\n          depth: 0,\n          node: _objectSpread(_objectSpread({}, node), {}, {\n            x: 0,\n            y: 0,\n            width,\n            height\n          }),\n          index: 0,\n          dataKey,\n          nameKey,\n          // with Treemap nesting, should this continue nesting the index or start from empty string?\n          nestedActiveTooltipIndex: node.tooltipIndex\n        });\n        var formatRoot = squarify(root, aspectRatio);\n        var {\n          nestIndex\n        } = this.state;\n        nestIndex.push(node);\n        this.setState({\n          formatRoot,\n          currentRoot: root,\n          nestIndex\n        });\n      }\n      if (onClick) {\n        onClick(node);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      var touchEvent = e.touches[0];\n      if (touchEvent == null) {\n        return;\n      }\n      var target = document.elementFromPoint(touchEvent.clientX, touchEvent.clientY);\n      if (!target || !target.getAttribute || this.state.formatRoot == null) {\n        return;\n      }\n      var itemIndex = target.getAttribute('data-recharts-item-index');\n      var activeNode = treemapPayloadSearcher(this.state.formatRoot, itemIndex);\n      if (!isTreemapNode(activeNode)) {\n        return;\n      }\n      var {\n        dataKey,\n        dispatch\n      } = this.props;\n      var activeCoordinate = {\n        x: activeNode.x + activeNode.width / 2,\n        y: activeNode.y + activeNode.height / 2\n      };\n\n      // Treemap does not support onTouchMove prop, but it could\n      // onTouchMove?.(activeNode, Number(itemIndex), e);\n      dispatch(setActiveMouseOverItemIndex({\n        activeIndex: itemIndex,\n        activeDataKey: dataKey,\n        activeCoordinate,\n        activeGraphicalItemId: this.props.id\n      }));\n    });\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.data !== prevState.prevData || nextProps.type !== prevState.prevType || nextProps.width !== prevState.prevWidth || nextProps.height !== prevState.prevHeight || nextProps.dataKey !== prevState.prevDataKey || nextProps.aspectRatio !== prevState.prevAspectRatio) {\n      var root = computeNode({\n        depth: 0,\n        // @ts-expect-error missing properties\n        node: {\n          children: nextProps.data,\n          x: 0,\n          y: 0,\n          width: nextProps.width,\n          height: nextProps.height\n        },\n        index: 0,\n        dataKey: nextProps.dataKey,\n        nameKey: nextProps.nameKey\n      });\n      var formatRoot = squarify(root, nextProps.aspectRatio);\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        formatRoot,\n        currentRoot: root,\n        nestIndex: [root],\n        prevAspectRatio: nextProps.aspectRatio,\n        prevData: nextProps.data,\n        prevWidth: nextProps.width,\n        prevHeight: nextProps.height,\n        prevDataKey: nextProps.dataKey,\n        prevType: nextProps.type\n      });\n    }\n    return null;\n  }\n  handleNestIndex(node, i) {\n    var {\n      nestIndex\n    } = this.state;\n    var {\n      width,\n      height,\n      dataKey,\n      nameKey,\n      aspectRatio\n    } = this.props;\n    var root = computeNode({\n      depth: 0,\n      node: _objectSpread(_objectSpread({}, node), {}, {\n        x: 0,\n        y: 0,\n        width,\n        height\n      }),\n      index: 0,\n      dataKey,\n      nameKey,\n      // with Treemap nesting, should this continue nesting the index or start from empty string?\n      nestedActiveTooltipIndex: node.tooltipIndex\n    });\n    var formatRoot = squarify(root, aspectRatio);\n    nestIndex = nestIndex.slice(0, i + 1);\n    this.setState({\n      formatRoot,\n      currentRoot: node,\n      nestIndex\n    });\n  }\n  renderNode(root, node) {\n    var {\n      content,\n      type\n    } = this.props;\n    var nodeProps = _objectSpread(_objectSpread(_objectSpread({}, svgPropertiesNoEvents(this.props)), node), {}, {\n      root\n    });\n    var isLeaf = !node.children || !node.children.length;\n    var {\n      currentRoot\n    } = this.state;\n    var isCurrentRootChild = ((currentRoot === null || currentRoot === void 0 ? void 0 : currentRoot.children) || []).filter(item => item.depth === node.depth && item.name === node.name);\n    if (!isCurrentRootChild.length && root.depth && type === 'nest') {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      key: \"recharts-treemap-node-\".concat(nodeProps.x, \"-\").concat(nodeProps.y, \"-\").concat(nodeProps.name),\n      className: \"recharts-treemap-depth-\".concat(node.depth)\n    }, /*#__PURE__*/React.createElement(TreemapItem, {\n      isLeaf: isLeaf,\n      content: content,\n      nodeProps: nodeProps,\n      treemapProps: this.props,\n      onNestClick: this.handleClick\n    }), node.children && node.children.length ? node.children.map(child => this.renderNode(node, child)) : null);\n  }\n  renderAllNodes() {\n    var {\n      formatRoot\n    } = this.state;\n    if (!formatRoot) {\n      return null;\n    }\n    return this.renderNode(formatRoot, formatRoot);\n  }\n\n  // render nest treemap\n  renderNestIndex() {\n    var {\n      nameKey,\n      nestIndexContent\n    } = this.props;\n    var {\n      nestIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recharts-treemap-nest-index-wrapper\",\n      style: {\n        marginTop: '8px',\n        textAlign: 'center'\n      }\n    }, nestIndex.map((item, i) => {\n      // TODO need to verify nameKey type\n      var rawName = get(item, nameKey, 'root');\n      var name = typeof rawName === 'string' ? rawName : 'root';\n      var content;\n      if (/*#__PURE__*/React.isValidElement(nestIndexContent)) {\n        // the cloned content is ignored at all times - let's remove it?\n        content = /*#__PURE__*/React.cloneElement(nestIndexContent, item, i);\n      }\n      if (typeof nestIndexContent === 'function') {\n        content = nestIndexContent(item, i);\n      } else {\n        content = name;\n      }\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n        React.createElement(\"div\", {\n          onClick: this.handleNestIndex.bind(this, item, i),\n          key: \"nest-index-\".concat(uniqueId()),\n          className: \"recharts-treemap-nest-index-box\",\n          style: {\n            cursor: 'pointer',\n            display: 'inline-block',\n            padding: '0 7px',\n            background: '#000',\n            color: '#fff',\n            marginRight: '3px'\n          }\n        }, content)\n      );\n    }));\n  }\n  render() {\n    var _this$props = this.props,\n      {\n        width,\n        height,\n        className,\n        style,\n        children,\n        type\n      } = _this$props,\n      others = _objectWithoutProperties(_this$props, _excluded);\n    var attrs = svgPropertiesNoEvents(others);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetTreemapTooltipEntrySettings, {\n      dataKey: this.props.dataKey,\n      nameKey: this.props.nameKey,\n      stroke: this.props.stroke,\n      fill: this.props.fill,\n      currentRoot: this.state.currentRoot,\n      id: this.props.id\n    }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n      width: width,\n      height: type === 'nest' ? height - 30 : height,\n      onTouchMove: this.handleTouchMove\n    }), this.renderAllNodes(), children), type === 'nest' && this.renderNestIndex());\n  }\n}\n_defineProperty(TreemapWithState, \"displayName\", 'Treemap');\nfunction TreemapDispatchInject(props) {\n  var dispatch = useAppDispatch();\n  var width = useChartWidth();\n  var height = useChartHeight();\n  if (!isPositiveNumber(width) || !isPositiveNumber(height)) {\n    return null;\n  }\n  var {\n    id: externalId\n  } = props;\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: externalId,\n    type: \"treemap\"\n  }, id => /*#__PURE__*/React.createElement(TreemapWithState, _extends({}, props, {\n    id: id,\n    width: width,\n    height: height,\n    dispatch: dispatch\n  })));\n}\n\n/**\n * The Treemap chart is used to visualize hierarchical data using nested rectangles.\n *\n * @consumes ResponsiveContainerContext\n * @provides TooltipEntrySettings\n */\nexport function Treemap(outsideProps) {\n  var _props$className;\n  var props = resolveDefaultProps(outsideProps, defaultTreeMapProps);\n  var {\n    className,\n    style,\n    width,\n    height\n  } = props;\n  var [tooltipPortal, setTooltipPortal] = useState(null);\n  return /*#__PURE__*/React.createElement(RechartsStoreProvider, {\n    preloadedState: {\n      options\n    },\n    reduxStoreName: (_props$className = props.className) !== null && _props$className !== void 0 ? _props$className : 'Treemap'\n  }, /*#__PURE__*/React.createElement(ReportChartMargin, {\n    margin: defaultTreemapMargin\n  }), /*#__PURE__*/React.createElement(RechartsWrapper, {\n    dispatchTouchEvents: false,\n    className: className,\n    style: style,\n    width: width,\n    height: height\n    /*\n     * Treemap has a bug where it doesn't include strokeWidth in its dimension calculation\n     * which makes the actual chart exactly {strokeWidth} larger than asked for.\n     * It's not a huge deal usually, but it makes the responsive option cycle infinitely.\n     */,\n    responsive: false,\n    ref: node => {\n      if (tooltipPortal == null && node != null) {\n        setTooltipPortal(node);\n      }\n    },\n    onMouseEnter: undefined,\n    onMouseLeave: undefined,\n    onClick: undefined,\n    onMouseMove: undefined,\n    onMouseDown: undefined,\n    onMouseUp: undefined,\n    onContextMenu: undefined,\n    onDoubleClick: undefined,\n    onTouchStart: undefined,\n    onTouchMove: undefined,\n    onTouchEnd: undefined\n  }, /*#__PURE__*/React.createElement(TooltipPortalContext.Provider, {\n    value: tooltipPortal\n  }, /*#__PURE__*/React.createElement(TreemapDispatchInject, props))));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}