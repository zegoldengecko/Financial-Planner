{"ast":null,"code":"// Function to register users\nexport async function registerUser({\n  email,\n  username,\n  password,\n  confirmPassword,\n  setError,\n  navigate\n}) {\n  // All fields are filled\n  if (!email || !username || !password || !confirmPassword) {\n    setError(\"All fields are required\");\n    return;\n  }\n\n  // Email is not valid\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  if (!emailRegex.test(email)) {\n    setError(\"Please enter a valid email address\");\n    return;\n  }\n\n  // Username is wrong length\n  if (username.length < 2 || username.length > 64) {\n    setError(\"Username must be between 2 and 64 characters\");\n    return;\n  }\n\n  // Password and confirm password don't match\n  if (password !== confirmPassword) {\n    setError(\"Passwords do not match\");\n    return;\n  }\n\n  // Password is wrong length\n  if (password.length < 8 || password.length > 64) {\n    setError(\"Password must be between 8 and 64 characters\");\n    return;\n  }\n\n  // Password is not varied enough\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+]).*$/;\n  if (!passwordRegex.test(password)) {\n    setError(\"Password must contain uppercase letters, lowercase letters, at least one number and a special character\");\n    return;\n  }\n\n  // Sending registration request\n  try {\n    const response = await fetch(\"http://localhost:5000/api/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      alert(data.message || \"Registration failed\");\n      return;\n    }\n    alert(\"Registration successful!\");\n    navigate(\"/\");\n  } catch (error) {\n    console.error(\"Error registering:\", error);\n    setError(\"Network error.\");\n  }\n}","map":{"version":3,"names":["registerUser","email","username","password","confirmPassword","setError","navigate","emailRegex","test","length","passwordRegex","response","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","error","console"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/src/utils/registerHelpers.js"],"sourcesContent":["// Function to register users\r\nexport async function registerUser({ email, username, password, confirmPassword, setError, navigate }) {\r\n    // All fields are filled\r\n    if (!email || !username || !password || !confirmPassword) {\r\n      setError(\"All fields are required\");\r\n      return;\r\n    }\r\n\r\n    // Email is not valid\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return;\r\n    }\r\n\r\n    // Username is wrong length\r\n    if (username.length < 2 || username.length > 64) {\r\n      setError(\"Username must be between 2 and 64 characters\");\r\n      return;\r\n    }\r\n\r\n    // Password and confirm password don't match\r\n    if (password !== confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    // Password is wrong length\r\n    if (password.length < 8 || password.length > 64) {\r\n      setError(\"Password must be between 8 and 64 characters\");\r\n      return;\r\n    }\r\n\r\n    // Password is not varied enough\r\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+]).*$/\r\n    if (!passwordRegex.test(password)) {\r\n      setError(\"Password must contain uppercase letters, lowercase letters, at least one number and a special character\");\r\n      return;\r\n    }\r\n\r\n    // Sending registration request\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/register\", { \r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, username, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        alert(data.message || \"Registration failed\");\r\n        return;\r\n      }\r\n\r\n      alert(\"Registration successful!\");\r\n      navigate(\"/\"); \r\n    } catch (error) {\r\n      console.error(\"Error registering:\", error);\r\n      setError(\"Network error.\");\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,YAAYA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,eAAe;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAE;EACnG;EACA,IAAI,CAACL,KAAK,IAAI,CAACC,QAAQ,IAAI,CAACC,QAAQ,IAAI,CAACC,eAAe,EAAE;IACxDC,QAAQ,CAAC,yBAAyB,CAAC;IACnC;EACF;;EAEA;EACA,MAAME,UAAU,GAAG,4BAA4B;EAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAACP,KAAK,CAAC,EAAE;IAC3BI,QAAQ,CAAC,oCAAoC,CAAC;IAC9C;EACF;;EAEA;EACA,IAAIH,QAAQ,CAACO,MAAM,GAAG,CAAC,IAAIP,QAAQ,CAACO,MAAM,GAAG,EAAE,EAAE;IAC/CJ,QAAQ,CAAC,8CAA8C,CAAC;IACxD;EACF;;EAEA;EACA,IAAIF,QAAQ,KAAKC,eAAe,EAAE;IAChCC,QAAQ,CAAC,wBAAwB,CAAC;IAClC;EACF;;EAEA;EACA,IAAIF,QAAQ,CAACM,MAAM,GAAG,CAAC,IAAIN,QAAQ,CAACM,MAAM,GAAG,EAAE,EAAE;IAC/CJ,QAAQ,CAAC,8CAA8C,CAAC;IACxD;EACF;;EAEA;EACA,MAAMK,aAAa,GAAG,wDAAwD;EAC9E,IAAI,CAACA,aAAa,CAACF,IAAI,CAACL,QAAQ,CAAC,EAAE;IACjCE,QAAQ,CAAC,yGAAyG,CAAC;IACnH;EACF;;EAEA;EACA,IAAI;IACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;MACjEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEhB,KAAK;QAAEC,QAAQ;QAAEC;MAAS,CAAC;IACpD,CAAC,CAAC;IAEF,MAAMe,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAElC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChBC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,qBAAqB,CAAC;MAC5C;IACF;IAEAD,KAAK,CAAC,0BAA0B,CAAC;IACjCf,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC,CAAC,OAAOiB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1ClB,QAAQ,CAAC,gBAAgB,CAAC;EAC5B;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}