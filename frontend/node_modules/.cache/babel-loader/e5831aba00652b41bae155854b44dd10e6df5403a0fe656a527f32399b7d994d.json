{"ast":null,"code":"import { spendingTypeMap } from \"../constants/PlannerConstants.js\";\n\n// Validating the new transaction to ensure all inputs are correct\nexport const validateTransaction = ({\n  type,\n  category,\n  amount,\n  date\n}) => {\n  if (!type || !category || !amount || !date) return \"Required fields are empty\";\n  const numericAmount = parseFloat(amount.replace(/[$,]/g, \"\"));\n  if (isNaN(numericAmount) || numericAmount <= 0 || numericAmount >= 1000000000) {\n    return \"Invalid amount. Must be between $0 and $1 billion.\";\n  }\n  const dateRegex = /^(0?[1-9]|[12][0-9]|3[01])\\/(0?[1-9]|1[0-2])\\/\\d{4}$/;\n  if (!dateRegex.test(date)) return \"Invalid date.\";\n  const year = parseInt(date.split(\"/\")[2], 10);\n  if (year < 1976 || year > 2076) return \"Year must be between 1976 and 2076.\";\n  return null;\n};\n\n// Getting the spending type of a type of expense\nexport const getSpendingType = category => {\n  if (spendingTypeMap.discretionary.includes(category)) return \"Discretionary\";\n  if (spendingTypeMap.nonDiscretionary.includes(category)) return \"Non-Discretionary\";\n  return \"NULL\";\n};\n\n// Calculating financial statistics\nexport function calculateStats({\n  totalIncome,\n  totalExpenses,\n  prevIncome,\n  prevExpenses,\n  totalSavings,\n  periodTransactions\n}) {\n  const emergencyFund = totalExpenses * 6;\n  const incomeChange = totalIncome - prevIncome;\n  const incomeChangePercent = prevIncome !== 0 ? (incomeChange / prevIncome * 100).toFixed(0) : 0;\n  const expenseChange = totalExpenses - prevExpenses;\n  const expenseChangePercent = prevExpenses !== 0 ? (expenseChange / prevExpenses * 100).toFixed(0) : 0;\n  const periodCashflow = periodTransactions.map(item => ({\n    period: item.period,\n    net: item.income - item.expense\n  }));\n  const periodIncome = periodTransactions.map(item => ({\n    period: item.period,\n    income: item.income\n  }));\n  const periodExpenses = periodTransactions.map(item => ({\n    period: item.period,\n    expense: item.expense\n  }));\n  const savingsRate = totalIncome > 0 ? ((totalIncome - totalExpenses) / totalIncome * 100).toFixed(2) : 0;\n  const EIRatio = totalIncome > 0 ? (totalExpenses / totalIncome).toFixed(2) : 0;\n  const runway = totalExpenses > 0 ? Math.floor(totalSavings / totalExpenses) : 0;\n  return {\n    emergencyFund,\n    incomeChange,\n    incomeChangePercent,\n    expenseChange,\n    expenseChangePercent,\n    periodCashflow,\n    periodIncome,\n    periodExpenses,\n    savingsRate,\n    EIRatio,\n    runway\n  };\n}","map":{"version":3,"names":["spendingTypeMap","validateTransaction","type","category","amount","date","numericAmount","parseFloat","replace","isNaN","dateRegex","test","year","parseInt","split","getSpendingType","discretionary","includes","nonDiscretionary","calculateStats","totalIncome","totalExpenses","prevIncome","prevExpenses","totalSavings","periodTransactions","emergencyFund","incomeChange","incomeChangePercent","toFixed","expenseChange","expenseChangePercent","periodCashflow","map","item","period","net","income","expense","periodIncome","periodExpenses","savingsRate","EIRatio","runway","Math","floor"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/src/utils/plannerHelpers.js"],"sourcesContent":["import { spendingTypeMap } from \"../constants/PlannerConstants.js\";\r\n\r\n// Validating the new transaction to ensure all inputs are correct\r\nexport const validateTransaction = ({ type, category, amount, date }) => {\r\n  if (!type || !category || !amount || !date) return \"Required fields are empty\";\r\n\r\n  const numericAmount = parseFloat(amount.replace(/[$,]/g, \"\"));\r\n  if (isNaN(numericAmount) || numericAmount <= 0 || numericAmount >= 1_000_000_000) {\r\n    return \"Invalid amount. Must be between $0 and $1 billion.\";\r\n  }\r\n\r\n  const dateRegex = /^(0?[1-9]|[12][0-9]|3[01])\\/(0?[1-9]|1[0-2])\\/\\d{4}$/;\r\n  if (!dateRegex.test(date)) return \"Invalid date.\";\r\n\r\n  const year = parseInt(date.split(\"/\")[2], 10);\r\n  if (year < 1976 || year > 2076) return \"Year must be between 1976 and 2076.\";\r\n\r\n  return null;\r\n};\r\n\r\n// Getting the spending type of a type of expense\r\nexport const getSpendingType = (category) => {\r\n  if (spendingTypeMap.discretionary.includes(category)) return \"Discretionary\";\r\n  if (spendingTypeMap.nonDiscretionary.includes(category)) return \"Non-Discretionary\";\r\n  return \"NULL\";\r\n};\r\n\r\n// Calculating financial statistics\r\nexport function calculateStats({ totalIncome, totalExpenses, prevIncome, prevExpenses, totalSavings, periodTransactions }) {\r\n  const emergencyFund = totalExpenses * 6;\r\n\r\n  const incomeChange = totalIncome - prevIncome;\r\n  const incomeChangePercent = prevIncome !== 0 ? ((incomeChange / prevIncome) * 100).toFixed(0) : 0;\r\n\r\n  const expenseChange = totalExpenses - prevExpenses;\r\n  const expenseChangePercent = prevExpenses !== 0 ? ((expenseChange / prevExpenses) * 100).toFixed(0) : 0;\r\n\r\n  const periodCashflow = periodTransactions.map(item => ({\r\n    period: item.period,\r\n    net: item.income - item.expense\r\n  }));\r\n\r\n  const periodIncome = periodTransactions.map(item => ({\r\n    period: item.period,\r\n    income: item.income\r\n  }));\r\n\r\n  const periodExpenses = periodTransactions.map(item => ({\r\n    period: item.period,\r\n    expense: item.expense\r\n  }));\r\n\r\n  const savingsRate = totalIncome > 0 ? (((totalIncome - totalExpenses) / totalIncome) * 100).toFixed(2) : 0;\r\n  const EIRatio = totalIncome > 0 ? (totalExpenses / totalIncome).toFixed(2) : 0;\r\n  const runway = totalExpenses > 0 ? Math.floor(totalSavings / totalExpenses) : 0;\r\n\r\n  return {\r\n    emergencyFund,\r\n    incomeChange,\r\n    incomeChangePercent,\r\n    expenseChange,\r\n    expenseChangePercent,\r\n    periodCashflow,\r\n    periodIncome,\r\n    periodExpenses,\r\n    savingsRate,\r\n    EIRatio,\r\n    runway\r\n  };\r\n}\r\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,kCAAkC;;AAElE;AACA,OAAO,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC,IAAI;EAAEC,QAAQ;EAAEC,MAAM;EAAEC;AAAK,CAAC,KAAK;EACvE,IAAI,CAACH,IAAI,IAAI,CAACC,QAAQ,IAAI,CAACC,MAAM,IAAI,CAACC,IAAI,EAAE,OAAO,2BAA2B;EAE9E,MAAMC,aAAa,GAAGC,UAAU,CAACH,MAAM,CAACI,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;EAC7D,IAAIC,KAAK,CAACH,aAAa,CAAC,IAAIA,aAAa,IAAI,CAAC,IAAIA,aAAa,IAAI,UAAa,EAAE;IAChF,OAAO,oDAAoD;EAC7D;EAEA,MAAMI,SAAS,GAAG,sDAAsD;EACxE,IAAI,CAACA,SAAS,CAACC,IAAI,CAACN,IAAI,CAAC,EAAE,OAAO,eAAe;EAEjD,MAAMO,IAAI,GAAGC,QAAQ,CAACR,IAAI,CAACS,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;EAC7C,IAAIF,IAAI,GAAG,IAAI,IAAIA,IAAI,GAAG,IAAI,EAAE,OAAO,qCAAqC;EAE5E,OAAO,IAAI;AACb,CAAC;;AAED;AACA,OAAO,MAAMG,eAAe,GAAIZ,QAAQ,IAAK;EAC3C,IAAIH,eAAe,CAACgB,aAAa,CAACC,QAAQ,CAACd,QAAQ,CAAC,EAAE,OAAO,eAAe;EAC5E,IAAIH,eAAe,CAACkB,gBAAgB,CAACD,QAAQ,CAACd,QAAQ,CAAC,EAAE,OAAO,mBAAmB;EACnF,OAAO,MAAM;AACf,CAAC;;AAED;AACA,OAAO,SAASgB,cAAcA,CAAC;EAAEC,WAAW;EAAEC,aAAa;EAAEC,UAAU;EAAEC,YAAY;EAAEC,YAAY;EAAEC;AAAmB,CAAC,EAAE;EACzH,MAAMC,aAAa,GAAGL,aAAa,GAAG,CAAC;EAEvC,MAAMM,YAAY,GAAGP,WAAW,GAAGE,UAAU;EAC7C,MAAMM,mBAAmB,GAAGN,UAAU,KAAK,CAAC,GAAG,CAAEK,YAAY,GAAGL,UAAU,GAAI,GAAG,EAAEO,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAEjG,MAAMC,aAAa,GAAGT,aAAa,GAAGE,YAAY;EAClD,MAAMQ,oBAAoB,GAAGR,YAAY,KAAK,CAAC,GAAG,CAAEO,aAAa,GAAGP,YAAY,GAAI,GAAG,EAAEM,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAEvG,MAAMG,cAAc,GAAGP,kBAAkB,CAACQ,GAAG,CAACC,IAAI,KAAK;IACrDC,MAAM,EAAED,IAAI,CAACC,MAAM;IACnBC,GAAG,EAAEF,IAAI,CAACG,MAAM,GAAGH,IAAI,CAACI;EAC1B,CAAC,CAAC,CAAC;EAEH,MAAMC,YAAY,GAAGd,kBAAkB,CAACQ,GAAG,CAACC,IAAI,KAAK;IACnDC,MAAM,EAAED,IAAI,CAACC,MAAM;IACnBE,MAAM,EAAEH,IAAI,CAACG;EACf,CAAC,CAAC,CAAC;EAEH,MAAMG,cAAc,GAAGf,kBAAkB,CAACQ,GAAG,CAACC,IAAI,KAAK;IACrDC,MAAM,EAAED,IAAI,CAACC,MAAM;IACnBG,OAAO,EAAEJ,IAAI,CAACI;EAChB,CAAC,CAAC,CAAC;EAEH,MAAMG,WAAW,GAAGrB,WAAW,GAAG,CAAC,GAAG,CAAE,CAACA,WAAW,GAAGC,aAAa,IAAID,WAAW,GAAI,GAAG,EAAES,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAC1G,MAAMa,OAAO,GAAGtB,WAAW,GAAG,CAAC,GAAG,CAACC,aAAa,GAAGD,WAAW,EAAES,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAC9E,MAAMc,MAAM,GAAGtB,aAAa,GAAG,CAAC,GAAGuB,IAAI,CAACC,KAAK,CAACrB,YAAY,GAAGH,aAAa,CAAC,GAAG,CAAC;EAE/E,OAAO;IACLK,aAAa;IACbC,YAAY;IACZC,mBAAmB;IACnBE,aAAa;IACbC,oBAAoB;IACpBC,cAAc;IACdO,YAAY;IACZC,cAAc;IACdC,WAAW;IACXC,OAAO;IACPC;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}