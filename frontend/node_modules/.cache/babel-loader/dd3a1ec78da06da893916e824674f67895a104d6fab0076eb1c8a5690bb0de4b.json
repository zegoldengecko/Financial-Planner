{"ast":null,"code":"import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { mouseLeaveChart, setMouseClickAxisIndex, setMouseOverAxisIndex } from './tooltipSlice';\nimport { selectActivePropsFromChartPointer } from './selectors/selectActivePropsFromChartPointer';\nimport { selectTooltipEventType } from './selectors/selectTooltipEventType';\nimport { getChartPointer } from '../util/getChartPointer';\nexport var mouseClickAction = createAction('mouseClick');\nexport var mouseClickMiddleware = createListenerMiddleware();\n\n// TODO: there's a bug here when you click the chart the activeIndex resets to zero\nmouseClickMiddleware.startListening({\n  actionCreator: mouseClickAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n    var activeProps = selectActivePropsFromChartPointer(listenerApi.getState(), getChartPointer(mousePointer));\n    if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n      listenerApi.dispatch(setMouseClickAxisIndex({\n        activeIndex: activeProps.activeIndex,\n        activeDataKey: undefined,\n        activeCoordinate: activeProps.activeCoordinate\n      }));\n    }\n  }\n});\nexport var mouseMoveAction = createAction('mouseMove');\nexport var mouseMoveMiddleware = createListenerMiddleware();\n\n/*\n * This single rafId is safe because:\n * 1. Each chart has its own Redux store instance with its own middleware\n * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n * This is different from externalEventsMiddleware which handles multiple event types\n * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n */\nvar rafId = null;\nmouseMoveMiddleware.startListening({\n  actionCreator: mouseMoveAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n\n    // Cancel any pending animation frame\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n    var chartPointer = getChartPointer(mousePointer);\n\n    // Schedule the dispatch for the next animation frame\n    rafId = requestAnimationFrame(() => {\n      var state = listenerApi.getState();\n      var tooltipEventType = selectTooltipEventType(state, state.tooltip.settings.shared);\n      // this functionality only applies to charts that have axes\n      if (tooltipEventType === 'axis') {\n        var activeProps = selectActivePropsFromChartPointer(state, chartPointer);\n        if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n          listenerApi.dispatch(setMouseOverAxisIndex({\n            activeIndex: activeProps.activeIndex,\n            activeDataKey: undefined,\n            activeCoordinate: activeProps.activeCoordinate\n          }));\n        } else {\n          // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n          listenerApi.dispatch(mouseLeaveChart());\n        }\n      }\n      rafId = null;\n    });\n  }\n});","map":{"version":3,"names":["createAction","createListenerMiddleware","mouseLeaveChart","setMouseClickAxisIndex","setMouseOverAxisIndex","selectActivePropsFromChartPointer","selectTooltipEventType","getChartPointer","mouseClickAction","mouseClickMiddleware","startListening","actionCreator","effect","action","listenerApi","mousePointer","payload","activeProps","getState","activeIndex","dispatch","activeDataKey","undefined","activeCoordinate","mouseMoveAction","mouseMoveMiddleware","rafId","cancelAnimationFrame","chartPointer","requestAnimationFrame","state","tooltipEventType","tooltip","settings","shared"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/node_modules/recharts/es6/state/mouseEventsMiddleware.js"],"sourcesContent":["import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { mouseLeaveChart, setMouseClickAxisIndex, setMouseOverAxisIndex } from './tooltipSlice';\nimport { selectActivePropsFromChartPointer } from './selectors/selectActivePropsFromChartPointer';\nimport { selectTooltipEventType } from './selectors/selectTooltipEventType';\nimport { getChartPointer } from '../util/getChartPointer';\nexport var mouseClickAction = createAction('mouseClick');\nexport var mouseClickMiddleware = createListenerMiddleware();\n\n// TODO: there's a bug here when you click the chart the activeIndex resets to zero\nmouseClickMiddleware.startListening({\n  actionCreator: mouseClickAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n    var activeProps = selectActivePropsFromChartPointer(listenerApi.getState(), getChartPointer(mousePointer));\n    if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n      listenerApi.dispatch(setMouseClickAxisIndex({\n        activeIndex: activeProps.activeIndex,\n        activeDataKey: undefined,\n        activeCoordinate: activeProps.activeCoordinate\n      }));\n    }\n  }\n});\nexport var mouseMoveAction = createAction('mouseMove');\nexport var mouseMoveMiddleware = createListenerMiddleware();\n\n/*\n * This single rafId is safe because:\n * 1. Each chart has its own Redux store instance with its own middleware\n * 2. mouseMoveAction only fires from one DOM element (the chart wrapper)\n * 3. Rapid mousemove events from the same element SHOULD debounce - we only care about the latest position\n * This is different from externalEventsMiddleware which handles multiple event types\n * (click, mouseenter, mouseleave, etc.) that should NOT cancel each other.\n */\nvar rafId = null;\nmouseMoveMiddleware.startListening({\n  actionCreator: mouseMoveAction,\n  effect: (action, listenerApi) => {\n    var mousePointer = action.payload;\n\n    // Cancel any pending animation frame\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n    }\n    var chartPointer = getChartPointer(mousePointer);\n\n    // Schedule the dispatch for the next animation frame\n    rafId = requestAnimationFrame(() => {\n      var state = listenerApi.getState();\n      var tooltipEventType = selectTooltipEventType(state, state.tooltip.settings.shared);\n      // this functionality only applies to charts that have axes\n      if (tooltipEventType === 'axis') {\n        var activeProps = selectActivePropsFromChartPointer(state, chartPointer);\n        if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n          listenerApi.dispatch(setMouseOverAxisIndex({\n            activeIndex: activeProps.activeIndex,\n            activeDataKey: undefined,\n            activeCoordinate: activeProps.activeCoordinate\n          }));\n        } else {\n          // this is needed to clear tooltip state when the mouse moves out of the inRange (svg - offset) function, but not yet out of the svg\n          listenerApi.dispatch(mouseLeaveChart());\n        }\n      }\n      rafId = null;\n    });\n  }\n});"],"mappings":"AAAA,SAASA,YAAY,EAAEC,wBAAwB,QAAQ,kBAAkB;AACzE,SAASC,eAAe,EAAEC,sBAAsB,EAAEC,qBAAqB,QAAQ,gBAAgB;AAC/F,SAASC,iCAAiC,QAAQ,+CAA+C;AACjG,SAASC,sBAAsB,QAAQ,oCAAoC;AAC3E,SAASC,eAAe,QAAQ,yBAAyB;AACzD,OAAO,IAAIC,gBAAgB,GAAGR,YAAY,CAAC,YAAY,CAAC;AACxD,OAAO,IAAIS,oBAAoB,GAAGR,wBAAwB,CAAC,CAAC;;AAE5D;AACAQ,oBAAoB,CAACC,cAAc,CAAC;EAClCC,aAAa,EAAEH,gBAAgB;EAC/BI,MAAM,EAAEA,CAACC,MAAM,EAAEC,WAAW,KAAK;IAC/B,IAAIC,YAAY,GAAGF,MAAM,CAACG,OAAO;IACjC,IAAIC,WAAW,GAAGZ,iCAAiC,CAACS,WAAW,CAACI,QAAQ,CAAC,CAAC,EAAEX,eAAe,CAACQ,YAAY,CAAC,CAAC;IAC1G,IAAI,CAACE,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACE,WAAW,KAAK,IAAI,EAAE;MAC/FL,WAAW,CAACM,QAAQ,CAACjB,sBAAsB,CAAC;QAC1CgB,WAAW,EAAEF,WAAW,CAACE,WAAW;QACpCE,aAAa,EAAEC,SAAS;QACxBC,gBAAgB,EAAEN,WAAW,CAACM;MAChC,CAAC,CAAC,CAAC;IACL;EACF;AACF,CAAC,CAAC;AACF,OAAO,IAAIC,eAAe,GAAGxB,YAAY,CAAC,WAAW,CAAC;AACtD,OAAO,IAAIyB,mBAAmB,GAAGxB,wBAAwB,CAAC,CAAC;;AAE3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIyB,KAAK,GAAG,IAAI;AAChBD,mBAAmB,CAACf,cAAc,CAAC;EACjCC,aAAa,EAAEa,eAAe;EAC9BZ,MAAM,EAAEA,CAACC,MAAM,EAAEC,WAAW,KAAK;IAC/B,IAAIC,YAAY,GAAGF,MAAM,CAACG,OAAO;;IAEjC;IACA,IAAIU,KAAK,KAAK,IAAI,EAAE;MAClBC,oBAAoB,CAACD,KAAK,CAAC;IAC7B;IACA,IAAIE,YAAY,GAAGrB,eAAe,CAACQ,YAAY,CAAC;;IAEhD;IACAW,KAAK,GAAGG,qBAAqB,CAAC,MAAM;MAClC,IAAIC,KAAK,GAAGhB,WAAW,CAACI,QAAQ,CAAC,CAAC;MAClC,IAAIa,gBAAgB,GAAGzB,sBAAsB,CAACwB,KAAK,EAAEA,KAAK,CAACE,OAAO,CAACC,QAAQ,CAACC,MAAM,CAAC;MACnF;MACA,IAAIH,gBAAgB,KAAK,MAAM,EAAE;QAC/B,IAAId,WAAW,GAAGZ,iCAAiC,CAACyB,KAAK,EAAEF,YAAY,CAAC;QACxE,IAAI,CAACX,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACE,WAAW,KAAK,IAAI,EAAE;UAC/FL,WAAW,CAACM,QAAQ,CAAChB,qBAAqB,CAAC;YACzCe,WAAW,EAAEF,WAAW,CAACE,WAAW;YACpCE,aAAa,EAAEC,SAAS;YACxBC,gBAAgB,EAAEN,WAAW,CAACM;UAChC,CAAC,CAAC,CAAC;QACL,CAAC,MAAM;UACL;UACAT,WAAW,CAACM,QAAQ,CAAClB,eAAe,CAAC,CAAC,CAAC;QACzC;MACF;MACAwB,KAAK,GAAG,IAAI;IACd,CAAC,CAAC;EACJ;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}