{"ast":null,"code":"import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { setKeyboardInteraction } from './tooltipSlice';\nimport { selectTooltipAxisDomain, selectTooltipAxisTicks, selectTooltipDisplayedData } from './selectors/tooltipSelectors';\nimport { selectCoordinateForDefaultIndex } from './selectors/selectors';\nimport { selectChartDirection, selectTooltipAxisDataKey } from './selectors/axisSelectors';\nimport { combineActiveTooltipIndex } from './selectors/combiners/combineActiveTooltipIndex';\nexport var keyDownAction = createAction('keyDown');\nexport var focusAction = createAction('focus');\nexport var keyboardEventsMiddleware = createListenerMiddleware();\nkeyboardEventsMiddleware.startListening({\n  actionCreator: keyDownAction,\n  effect: (action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    var key = action.payload;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n      return;\n    }\n\n    // TODO this is lacking index for charts that do not support numeric indexes\n    var resolvedIndex = combineActiveTooltipIndex(keyboardInteraction, selectTooltipDisplayedData(state), selectTooltipAxisDataKey(state), selectTooltipAxisDomain(state));\n    var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n    if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n      return;\n    }\n    var tooltipTicks = selectTooltipAxisTicks(state);\n    if (key === 'Enter') {\n      var _coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(keyboardInteraction.index));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: !keyboardInteraction.active,\n        activeIndex: keyboardInteraction.index,\n        activeCoordinate: _coordinate\n      }));\n      return;\n    }\n    var direction = selectChartDirection(state);\n    var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n    var movement = key === 'ArrowRight' ? 1 : -1;\n    var nextIndex = currentIndex + movement * directionMultiplier;\n    if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n      return;\n    }\n    var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n    listenerApi.dispatch(setKeyboardInteraction({\n      active: true,\n      activeIndex: nextIndex.toString(),\n      activeCoordinate: coordinate\n    }));\n  }\n});\nkeyboardEventsMiddleware.startListening({\n  actionCreator: focusAction,\n  effect: (_action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    if (keyboardInteraction.active) {\n      return;\n    }\n    if (keyboardInteraction.index == null) {\n      var nextIndex = '0';\n      var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: true,\n        activeIndex: nextIndex,\n        activeCoordinate: coordinate\n      }));\n    }\n  }\n});","map":{"version":3,"names":["createAction","createListenerMiddleware","setKeyboardInteraction","selectTooltipAxisDomain","selectTooltipAxisTicks","selectTooltipDisplayedData","selectCoordinateForDefaultIndex","selectChartDirection","selectTooltipAxisDataKey","combineActiveTooltipIndex","keyDownAction","focusAction","keyboardEventsMiddleware","startListening","actionCreator","effect","action","listenerApi","state","getState","accessibilityLayerIsActive","rootProps","accessibilityLayer","keyboardInteraction","tooltip","key","payload","resolvedIndex","currentIndex","Number","isFinite","tooltipTicks","_coordinate","String","index","dispatch","active","activeIndex","activeCoordinate","direction","directionMultiplier","movement","nextIndex","length","coordinate","toString","_action"],"sources":["C:/Users/Alex/OneDrive/Documents/Projects/Financial Planner/frontend/node_modules/recharts/es6/state/keyboardEventsMiddleware.js"],"sourcesContent":["import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { setKeyboardInteraction } from './tooltipSlice';\nimport { selectTooltipAxisDomain, selectTooltipAxisTicks, selectTooltipDisplayedData } from './selectors/tooltipSelectors';\nimport { selectCoordinateForDefaultIndex } from './selectors/selectors';\nimport { selectChartDirection, selectTooltipAxisDataKey } from './selectors/axisSelectors';\nimport { combineActiveTooltipIndex } from './selectors/combiners/combineActiveTooltipIndex';\nexport var keyDownAction = createAction('keyDown');\nexport var focusAction = createAction('focus');\nexport var keyboardEventsMiddleware = createListenerMiddleware();\nkeyboardEventsMiddleware.startListening({\n  actionCreator: keyDownAction,\n  effect: (action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    var key = action.payload;\n    if (key !== 'ArrowRight' && key !== 'ArrowLeft' && key !== 'Enter') {\n      return;\n    }\n\n    // TODO this is lacking index for charts that do not support numeric indexes\n    var resolvedIndex = combineActiveTooltipIndex(keyboardInteraction, selectTooltipDisplayedData(state), selectTooltipAxisDataKey(state), selectTooltipAxisDomain(state));\n    var currentIndex = resolvedIndex == null ? -1 : Number(resolvedIndex);\n    if (!Number.isFinite(currentIndex) || currentIndex < 0) {\n      return;\n    }\n    var tooltipTicks = selectTooltipAxisTicks(state);\n    if (key === 'Enter') {\n      var _coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(keyboardInteraction.index));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: !keyboardInteraction.active,\n        activeIndex: keyboardInteraction.index,\n        activeCoordinate: _coordinate\n      }));\n      return;\n    }\n    var direction = selectChartDirection(state);\n    var directionMultiplier = direction === 'left-to-right' ? 1 : -1;\n    var movement = key === 'ArrowRight' ? 1 : -1;\n    var nextIndex = currentIndex + movement * directionMultiplier;\n    if (tooltipTicks == null || nextIndex >= tooltipTicks.length || nextIndex < 0) {\n      return;\n    }\n    var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n    listenerApi.dispatch(setKeyboardInteraction({\n      active: true,\n      activeIndex: nextIndex.toString(),\n      activeCoordinate: coordinate\n    }));\n  }\n});\nkeyboardEventsMiddleware.startListening({\n  actionCreator: focusAction,\n  effect: (_action, listenerApi) => {\n    var state = listenerApi.getState();\n    var accessibilityLayerIsActive = state.rootProps.accessibilityLayer !== false;\n    if (!accessibilityLayerIsActive) {\n      return;\n    }\n    var {\n      keyboardInteraction\n    } = state.tooltip;\n    if (keyboardInteraction.active) {\n      return;\n    }\n    if (keyboardInteraction.index == null) {\n      var nextIndex = '0';\n      var coordinate = selectCoordinateForDefaultIndex(state, 'axis', 'hover', String(nextIndex));\n      listenerApi.dispatch(setKeyboardInteraction({\n        active: true,\n        activeIndex: nextIndex,\n        activeCoordinate: coordinate\n      }));\n    }\n  }\n});"],"mappings":"AAAA,SAASA,YAAY,EAAEC,wBAAwB,QAAQ,kBAAkB;AACzE,SAASC,sBAAsB,QAAQ,gBAAgB;AACvD,SAASC,uBAAuB,EAAEC,sBAAsB,EAAEC,0BAA0B,QAAQ,8BAA8B;AAC1H,SAASC,+BAA+B,QAAQ,uBAAuB;AACvE,SAASC,oBAAoB,EAAEC,wBAAwB,QAAQ,2BAA2B;AAC1F,SAASC,yBAAyB,QAAQ,iDAAiD;AAC3F,OAAO,IAAIC,aAAa,GAAGV,YAAY,CAAC,SAAS,CAAC;AAClD,OAAO,IAAIW,WAAW,GAAGX,YAAY,CAAC,OAAO,CAAC;AAC9C,OAAO,IAAIY,wBAAwB,GAAGX,wBAAwB,CAAC,CAAC;AAChEW,wBAAwB,CAACC,cAAc,CAAC;EACtCC,aAAa,EAAEJ,aAAa;EAC5BK,MAAM,EAAEA,CAACC,MAAM,EAAEC,WAAW,KAAK;IAC/B,IAAIC,KAAK,GAAGD,WAAW,CAACE,QAAQ,CAAC,CAAC;IAClC,IAAIC,0BAA0B,GAAGF,KAAK,CAACG,SAAS,CAACC,kBAAkB,KAAK,KAAK;IAC7E,IAAI,CAACF,0BAA0B,EAAE;MAC/B;IACF;IACA,IAAI;MACFG;IACF,CAAC,GAAGL,KAAK,CAACM,OAAO;IACjB,IAAIC,GAAG,GAAGT,MAAM,CAACU,OAAO;IACxB,IAAID,GAAG,KAAK,YAAY,IAAIA,GAAG,KAAK,WAAW,IAAIA,GAAG,KAAK,OAAO,EAAE;MAClE;IACF;;IAEA;IACA,IAAIE,aAAa,GAAGlB,yBAAyB,CAACc,mBAAmB,EAAElB,0BAA0B,CAACa,KAAK,CAAC,EAAEV,wBAAwB,CAACU,KAAK,CAAC,EAAEf,uBAAuB,CAACe,KAAK,CAAC,CAAC;IACtK,IAAIU,YAAY,GAAGD,aAAa,IAAI,IAAI,GAAG,CAAC,CAAC,GAAGE,MAAM,CAACF,aAAa,CAAC;IACrE,IAAI,CAACE,MAAM,CAACC,QAAQ,CAACF,YAAY,CAAC,IAAIA,YAAY,GAAG,CAAC,EAAE;MACtD;IACF;IACA,IAAIG,YAAY,GAAG3B,sBAAsB,CAACc,KAAK,CAAC;IAChD,IAAIO,GAAG,KAAK,OAAO,EAAE;MACnB,IAAIO,WAAW,GAAG1B,+BAA+B,CAACY,KAAK,EAAE,MAAM,EAAE,OAAO,EAAEe,MAAM,CAACV,mBAAmB,CAACW,KAAK,CAAC,CAAC;MAC5GjB,WAAW,CAACkB,QAAQ,CAACjC,sBAAsB,CAAC;QAC1CkC,MAAM,EAAE,CAACb,mBAAmB,CAACa,MAAM;QACnCC,WAAW,EAAEd,mBAAmB,CAACW,KAAK;QACtCI,gBAAgB,EAAEN;MACpB,CAAC,CAAC,CAAC;MACH;IACF;IACA,IAAIO,SAAS,GAAGhC,oBAAoB,CAACW,KAAK,CAAC;IAC3C,IAAIsB,mBAAmB,GAAGD,SAAS,KAAK,eAAe,GAAG,CAAC,GAAG,CAAC,CAAC;IAChE,IAAIE,QAAQ,GAAGhB,GAAG,KAAK,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC;IAC5C,IAAIiB,SAAS,GAAGd,YAAY,GAAGa,QAAQ,GAAGD,mBAAmB;IAC7D,IAAIT,YAAY,IAAI,IAAI,IAAIW,SAAS,IAAIX,YAAY,CAACY,MAAM,IAAID,SAAS,GAAG,CAAC,EAAE;MAC7E;IACF;IACA,IAAIE,UAAU,GAAGtC,+BAA+B,CAACY,KAAK,EAAE,MAAM,EAAE,OAAO,EAAEe,MAAM,CAACS,SAAS,CAAC,CAAC;IAC3FzB,WAAW,CAACkB,QAAQ,CAACjC,sBAAsB,CAAC;MAC1CkC,MAAM,EAAE,IAAI;MACZC,WAAW,EAAEK,SAAS,CAACG,QAAQ,CAAC,CAAC;MACjCP,gBAAgB,EAAEM;IACpB,CAAC,CAAC,CAAC;EACL;AACF,CAAC,CAAC;AACFhC,wBAAwB,CAACC,cAAc,CAAC;EACtCC,aAAa,EAAEH,WAAW;EAC1BI,MAAM,EAAEA,CAAC+B,OAAO,EAAE7B,WAAW,KAAK;IAChC,IAAIC,KAAK,GAAGD,WAAW,CAACE,QAAQ,CAAC,CAAC;IAClC,IAAIC,0BAA0B,GAAGF,KAAK,CAACG,SAAS,CAACC,kBAAkB,KAAK,KAAK;IAC7E,IAAI,CAACF,0BAA0B,EAAE;MAC/B;IACF;IACA,IAAI;MACFG;IACF,CAAC,GAAGL,KAAK,CAACM,OAAO;IACjB,IAAID,mBAAmB,CAACa,MAAM,EAAE;MAC9B;IACF;IACA,IAAIb,mBAAmB,CAACW,KAAK,IAAI,IAAI,EAAE;MACrC,IAAIQ,SAAS,GAAG,GAAG;MACnB,IAAIE,UAAU,GAAGtC,+BAA+B,CAACY,KAAK,EAAE,MAAM,EAAE,OAAO,EAAEe,MAAM,CAACS,SAAS,CAAC,CAAC;MAC3FzB,WAAW,CAACkB,QAAQ,CAACjC,sBAAsB,CAAC;QAC1CkC,MAAM,EAAE,IAAI;QACZC,WAAW,EAAEK,SAAS;QACtBJ,gBAAgB,EAAEM;MACpB,CAAC,CAAC,CAAC;IACL;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}